{"version":3,"file":"forum.js","mappings":";;;;;;;;;AAAAA,gHAAA;;;;;;;;;;;ACAa;;AACb,IAAIG,eAAe,GAAI,QAAQ,KAAKA,eAAd,KAAmCC,MAAM,CAACC,MAAP,GAAiB,UAASC,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsB;EAC5F,IAAIA,EAAE,KAAKC,SAAX,EAAsBD,EAAE,GAAGD,CAAL;EACtBJ,MAAM,CAACO,cAAP,CAAsBL,CAAtB,EAAyBG,EAAzB,EAA6B;IAAEG,UAAU,EAAE,IAAd;IAAoBC,GAAG,EAAE,eAAW;MAAE,OAAON,CAAC,CAACC,CAAD,CAAR;IAAc;EAApD,CAA7B;AACH,CAHwD,GAGnD,UAASF,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsB;EACxB,IAAIA,EAAE,KAAKC,SAAX,EAAsBD,EAAE,GAAGD,CAAL;EACtBF,CAAC,CAACG,EAAD,CAAD,GAAQF,CAAC,CAACC,CAAD,CAAT;AACH,CANqB,CAAtB;;AAOA,IAAIM,YAAY,GAAI,QAAQ,KAAKA,YAAd,IAA+B,UAASP,CAAT,EAAYN,OAAZ,EAAqB;EACnE,KAAK,IAAIc,CAAT,IAAcR,CAAd;IAAiB,IAAIQ,CAAC,KAAK,SAAN,IAAmB,CAACX,MAAM,CAACY,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCjB,OAArC,EAA8Cc,CAA9C,CAAxB,EAA0EZ,eAAe,CAACF,OAAD,EAAUM,CAAV,EAAaQ,CAAb,CAAf;EAA3F;AACH,CAFD;;AAGA,IAAII,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;IAAE,WAAWA;EAAb,CAAvC;AACH,CAFD;;AAGAhB,8CAA6C;EAAEkB,KAAK,EAAE;AAAT,CAA7C;AACArB,iBAAA,GAAoBA,aAAA,GAAgB,KAAK,CAAzC;;AACAa,YAAY,CAACZ,mBAAO,CAAC,qDAAD,CAAR,EAAqBD,OAArB,CAAZ;;AACA,IAAIwB,OAAO,GAAGvB,mBAAO,CAAC,qDAAD,CAArB;;AACAE,yCAAwC;EAAEQ,UAAU,EAAE,IAAd;EAAoBC,GAAG,EAAE,eAAY;IAAE,OAAOM,eAAe,CAACM,OAAD,CAAf,WAAP;EAA0C;AAAjF,CAAxC;;AACA,IAAIC,WAAW,GAAGxB,mBAAO,CAAC,6DAAD,CAAzB;;AACAE,6CAA4C;EAAEQ,UAAU,EAAE,IAAd;EAAoBC,GAAG,EAAE,eAAY;IAAE,OAAOM,eAAe,CAACO,WAAD,CAAf,WAAP;EAA8C;AAArF,CAA5C;;;;;;;;;;;ACpBa;;AACb,IAAIC,aAAa,GAAI,QAAQ,KAAKA,aAAd,IAAgC,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;EAC1E,IAAIA,IAAI,IAAIC,SAAS,CAACC,MAAV,KAAqB,CAAjC,EAAoC,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGL,IAAI,CAACG,MAApB,EAA4BG,EAAjC,EAAqCF,CAAC,GAAGC,CAAzC,EAA4CD,CAAC,EAA7C,EAAiD;IACjF,IAAIE,EAAE,IAAI,EAAEF,CAAC,IAAIJ,IAAP,CAAV,EAAwB;MACpB,IAAI,CAACM,EAAL,EAASA,EAAE,GAAGC,KAAK,CAACpB,SAAN,CAAgBqB,KAAhB,CAAsBnB,IAAtB,CAA2BW,IAA3B,EAAiC,CAAjC,EAAoCI,CAApC,CAAL;MACTE,EAAE,CAACF,CAAD,CAAF,GAAQJ,IAAI,CAACI,CAAD,CAAZ;IACH;EACJ;EACD,OAAOL,EAAE,CAACU,MAAH,CAAUH,EAAE,IAAIC,KAAK,CAACpB,SAAN,CAAgBqB,KAAhB,CAAsBnB,IAAtB,CAA2BW,IAA3B,CAAhB,CAAP;AACH,CARD;;AASAzB,8CAA6C;EAAEkB,KAAK,EAAE;AAAT,CAA7C;AACArB,mBAAA,GAAsB,KAAK,CAA3B;AACA,IAAIuC,MAAM,GAAG,0DAAb;AACA,IAAIC,QAAQ,GAAG,8BAAf;AACA,IAAIC,WAAW,GAAG,IAAIC,GAAJ,CAAQ,CACtB,CAAC,GAAD,EAAM,SAAN,CADsB,EAEtB,CAAC,GAAD,EAAM,OAAN,CAFsB,EAGtB,CAAC,GAAD,EAAM,KAAN,CAHsB,EAItB,CAAC,GAAD,EAAM,KAAN,CAJsB,EAKtB,CAAC,GAAD,EAAM,KAAN,CALsB,EAMtB,CAAC,GAAD,EAAM,QAAN,CANsB,CAAR,CAAlB;AAQA,IAAIC,UAAU,GAAG;EACb,KAAK,OADQ;EAEb,KAAK,QAFQ;EAGb,KAAK,SAHQ;EAIb,KAAK;AAJQ,CAAjB;AAMA,IAAIC,eAAe,GAAG;EAClB,KAAK,CAAC,IAAD,EAAO,QAAP,CADa;EAElB,KAAK,CAAC,OAAD,EAAU,SAAV;AAFa,CAAtB,EAIA;;AACA,IAAIC,aAAa,GAAG,IAAIC,GAAJ,CAAQ,CACxB,KADwB,EAExB,KAFwB,EAGxB,SAHwB,EAIxB,IAJwB,EAKxB,OALwB,EAMxB,MANwB,EAOxB,cAPwB,CAAR,CAApB;AASA,IAAIC,cAAc,GAAG,IAAID,GAAJ,CAAQpB,aAAa,CAAC,CACvC,YADuC,CAAD,EAEvCvB,MAAM,CAAC6C,IAAP,CAAYL,UAAZ,EAAwBM,GAAxB,CAA4B,UAAU1C,CAAV,EAAa;EAAE,OAAOoC,UAAU,CAACpC,CAAD,CAAjB;AAAuB,CAAlE,CAFuC,EAE8B,IAF9B,CAArB,CAArB;AAGA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAI2C,yBAAyB,GAAG,IAAIJ,GAAJ,CAAQ,CACpC,QADoC,EAEpC,gBAFoC,EAGpC,OAHoC,EAIpC,OAJoC,EAKpC,MALoC,EAMpC,SANoC,EAOpC,SAPoC,EAQpC,SARoC,EASpC,OAToC,EAUpC,UAVoC,EAWpC,OAXoC,EAYpC,SAZoC,EAapC,SAboC,EAcpC,OAdoC,EAepC,KAfoC,EAgBpC,WAhBoC,EAiBpC,UAjBoC,EAkBpC,SAlBoC,EAmBpC,MAnBoC,EAoBpC,OApBoC,EAqBpC,UArBoC,EAsBpC,YAtBoC,EAuBpC,MAvBoC,EAwBpC,UAxBoC,EAyBpC,MAzBoC,EA0BpC,OA1BoC,EA2BpC,QA3BoC,EA4BpC,UA5BoC,EA6BpC,QA7BoC,EA8BpC,UA9BoC,EA+BpC,SA/BoC,EAgCpC,QAhCoC,EAiCpC,UAjCoC,EAkCpC,KAlCoC,EAmCpC,KAnCoC,EAoCpC,OApCoC,EAqCpC,OArCoC,EAsCpC,WAtCoC,EAuCpC,UAvCoC,EAwCpC,OAxCoC,EAyCpC,QAzCoC,EA0CpC,MA1CoC,EA2CpC,MA3CoC,EA4CpC,QA5CoC,EA6CpC,WA7CoC,EA8CpC,OA9CoC,CAAR,CAAhC;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASR,WAAT,CAAqBa,QAArB,EAA+B;EAC3B,OAAOJ,cAAc,CAACK,GAAf,CAAmBD,QAAQ,CAACE,IAA5B,CAAP;AACH;;AACDrD,mBAAA,GAAsBsC,WAAtB;AACA,IAAIgB,sBAAsB,GAAG,IAAIR,GAAJ,CAAQ,CAAC,UAAD,EAAa,WAAb,CAAR,CAA7B;AACA,IAAIS,MAAM,GAAG,IAAIT,GAAJ,CAAQ,CAAC,GAAD,EAAM,GAAN,CAAR,CAAb,EACA;;AACA,SAASU,SAAT,CAAmBC,CAAnB,EAAsBC,OAAtB,EAA+BC,iBAA/B,EAAkD;EAC9C,IAAIC,IAAI,GAAGC,QAAQ,CAACH,OAAD,EAAU,EAAV,CAAR,GAAwB,OAAnC,CAD8C,CAE9C;;EACA,OAAOE,IAAI,KAAKA,IAAT,IAAiBD,iBAAjB,GACDD,OADC,GAEDE,IAAI,GAAG,CAAP,GACI;EACEE,MAAM,CAACC,YAAP,CAAoBH,IAAI,GAAG,OAA3B,CAFN,GAGI;EACEE,MAAM,CAACC,YAAP,CAAqBH,IAAI,IAAI,EAAT,GAAe,MAAnC,EAA4CA,IAAI,GAAG,KAAR,GAAiB,MAA5D,CANZ;AAOH;;AACD,SAASI,WAAT,CAAqBC,GAArB,EAA0B;EACtB,OAAOA,GAAG,CAACC,OAAJ,CAAY1B,QAAZ,EAAsBgB,SAAtB,CAAP;AACH;;AACD,SAASW,YAAT,CAAsBC,CAAtB,EAAyB;EACrB,OAAOA,CAAC,KAAK,GAAN,IAAaA,CAAC,KAAK,IAAnB,IAA2BA,CAAC,KAAK,IAAjC,IAAyCA,CAAC,KAAK,IAA/C,IAAuDA,CAAC,KAAK,IAApE;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAS7C,KAAT,CAAe4B,QAAf,EAAyBkB,OAAzB,EAAkC;EAC9B,IAAIC,UAAU,GAAG,EAAjB;EACA,IAAIC,QAAQ,GAAGC,aAAa,CAACF,UAAD,EAAa,KAAKnB,QAAlB,EAA4BkB,OAA5B,EAAqC,CAArC,CAA5B;;EACA,IAAIE,QAAQ,GAAGpB,QAAQ,CAACpB,MAAxB,EAAgC;IAC5B,MAAM,IAAI0C,KAAJ,CAAU,yBAAyBtB,QAAQ,CAACf,KAAT,CAAemC,QAAf,CAAnC,CAAN;EACH;;EACD,OAAOD,UAAP;AACH;;AACDtE,kBAAA,GAAkBuB,KAAlB;;AACA,SAASiD,aAAT,CAAuBF,UAAvB,EAAmCnB,QAAnC,EAA6CkB,OAA7C,EAAsDK,aAAtD,EAAqE;EACjE,IAAIC,EAAJ,EAAQC,EAAR;;EACA,IAAIP,OAAO,KAAK,KAAK,CAArB,EAAwB;IAAEA,OAAO,GAAG,EAAV;EAAe;;EACzC,IAAIQ,MAAM,GAAG,EAAb;EACA,IAAIC,KAAK,GAAG,KAAZ;;EACA,SAASC,OAAT,CAAiBC,MAAjB,EAAyB;IACrB,IAAIC,KAAK,GAAG9B,QAAQ,CAACf,KAAT,CAAesC,aAAa,GAAGM,MAA/B,EAAuCC,KAAvC,CAA6C1C,MAA7C,CAAZ;;IACA,IAAI,CAAC0C,KAAL,EAAY;MACR,MAAM,IAAIR,KAAJ,CAAU,0BAA0BtB,QAAQ,CAACf,KAAT,CAAesC,aAAf,CAApC,CAAN;IACH;;IACD,IAAIQ,IAAI,GAAGD,KAAK,CAAC,CAAD,CAAhB;IACAP,aAAa,IAAIM,MAAM,GAAGE,IAAI,CAACnD,MAA/B;IACA,OAAOiC,WAAW,CAACkB,IAAD,CAAlB;EACH;;EACD,SAASC,eAAT,CAAyBH,MAAzB,EAAiC;IAC7B,OAAOb,YAAY,CAAChB,QAAQ,CAACiC,MAAT,CAAgBV,aAAa,GAAGM,MAAhC,CAAD,CAAnB;MACIA,MAAM;IADV;;IAEAN,aAAa,IAAIM,MAAjB;EACH;;EACD,SAASK,SAAT,CAAmBC,GAAnB,EAAwB;IACpB,IAAIC,UAAU,GAAG,CAAjB;;IACA,OAAOpC,QAAQ,CAACiC,MAAT,CAAgB,EAAEE,GAAlB,MAA2B,IAAlC;MACIC,UAAU;IADd;;IAEA,OAAO,CAACA,UAAU,GAAG,CAAd,MAAqB,CAA5B;EACH;;EACD,SAASC,kBAAT,GAA8B;IAC1B,IAAIX,MAAM,CAAC9C,MAAP,GAAgB,CAAhB,IAAqBO,WAAW,CAACuC,MAAM,CAACA,MAAM,CAAC9C,MAAP,GAAgB,CAAjB,CAAP,CAApC,EAAiE;MAC7D,MAAM,IAAI0C,KAAJ,CAAU,uCAAV,CAAN;IACH;EACJ;;EACDU,eAAe,CAAC,CAAD,CAAf;;EACA,OAAOhC,QAAQ,KAAK,EAApB,EAAwB;IACpB,IAAIsC,SAAS,GAAGtC,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,CAAhB;;IACA,IAAIP,YAAY,CAACsB,SAAD,CAAhB,EAA6B;MACzBX,KAAK,GAAG,IAAR;MACAK,eAAe,CAAC,CAAD,CAAf;IACH,CAHD,MAIK,IAAIM,SAAS,IAAI9C,UAAjB,EAA6B;MAC9B6C,kBAAkB;MAClBX,MAAM,CAACa,IAAP,CAAY;QAAErC,IAAI,EAAEV,UAAU,CAAC8C,SAAD;MAAlB,CAAZ;MACAX,KAAK,GAAG,KAAR;MACAK,eAAe,CAAC,CAAD,CAAf;IACH,CALI,MAMA,IAAIM,SAAS,KAAK,GAAlB,EAAuB;MACxB,IAAIZ,MAAM,CAAC9C,MAAP,KAAkB,CAAtB,EAAyB;QACrB,MAAM,IAAI0C,KAAJ,CAAU,oBAAV,CAAN;MACH;;MACDH,UAAU,CAACoB,IAAX,CAAgBb,MAAhB;MACAA,MAAM,GAAG,EAAT;MACAC,KAAK,GAAG,KAAR;MACAK,eAAe,CAAC,CAAD,CAAf;IACH,CARI,MASA,IAAIhC,QAAQ,CAACwC,UAAT,CAAoB,IAApB,EAA0BjB,aAA1B,CAAJ,EAA8C;MAC/C,IAAIH,QAAQ,GAAGpB,QAAQ,CAACyC,OAAT,CAAiB,IAAjB,EAAuBlB,aAAa,GAAG,CAAvC,CAAf;;MACA,IAAIH,QAAQ,GAAG,CAAf,EAAkB;QACd,MAAM,IAAIE,KAAJ,CAAU,4BAAV,CAAN;MACH;;MACDC,aAAa,GAAGH,QAAQ,GAAG,CAA3B;IACH,CANI,MAOA;MACD,IAAIO,KAAJ,EAAW;QACPU,kBAAkB;QAClBX,MAAM,CAACa,IAAP,CAAY;UAAErC,IAAI,EAAE;QAAR,CAAZ;QACAyB,KAAK,GAAG,KAAR;MACH;;MACD,IAAIW,SAAS,IAAI7C,eAAjB,EAAkC;QAC9B,IAAIiD,EAAE,GAAGjD,eAAe,CAAC6C,SAAD,CAAxB;QAAA,IAAqCK,MAAM,GAAGD,EAAE,CAAC,CAAD,CAAhD;QAAA,IAAqDE,MAAM,GAAGF,EAAE,CAAC,CAAD,CAAhE;QACAhB,MAAM,CAACa,IAAP,CAAY;UACRrC,IAAI,EAAE,WADE;UAER6B,IAAI,EAAEY,MAFE;UAGRC,MAAM,EAAEA,MAHA;UAIR1E,KAAK,EAAE0D,OAAO,CAAC,CAAD,CAJN;UAKRiB,SAAS,EAAE,IALH;UAMR;UACAC,UAAU,EAAE5B,OAAO,CAAC6B,OAAR,GAAkB,IAAlB,GAAyB;QAP7B,CAAZ;MASH,CAXD,MAYK,IAAIT,SAAS,KAAK,GAAlB,EAAuB;QACxBN,eAAe,CAAC,CAAD,CAAf,CADwB,CAExB;;QACA,IAAIa,SAAS,GAAG,IAAhB;;QACA,IAAI7C,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;UACxCsB,SAAS,GAAG,EAAZ;UACAtB,aAAa,IAAI,CAAjB;QACH;;QACD,IAAIvB,QAAQ,CAACwC,UAAT,CAAoB,IAApB,EAA0BjB,aAA1B,CAAJ,EAA8C;UAC1CsB,SAAS,GAAG,GAAZ;UACAtB,aAAa,IAAI,CAAjB;QACH;;QACD,IAAIyB,MAAM,GAAGpB,OAAO,CAAC,CAAD,CAApB;;QACA,IAAIiB,SAAS,KAAK,IAAd,IACA7C,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GADnC,IAEAvB,QAAQ,CAACiC,MAAT,CAAgBV,aAAa,GAAG,CAAhC,MAAuC,GAF3C,EAEgD;UAC5CsB,SAAS,GAAGG,MAAZ;UACAA,MAAM,GAAGpB,OAAO,CAAC,CAAD,CAAhB;QACH;;QACD,IAAI,CAACJ,EAAE,GAAGN,OAAO,CAAC+B,uBAAd,MAA2C,IAA3C,IAAmDzB,EAAE,KAAK,KAAK,CAA/D,GAAmEA,EAAnE,GAAwE,CAACN,OAAO,CAAC6B,OAArF,EAA8F;UAC1FC,MAAM,GAAGA,MAAM,CAACE,WAAP,EAAT;QACH;;QACDlB,eAAe,CAAC,CAAD,CAAf,CAtBwB,CAuBxB;;QACA,IAAIY,MAAM,GAAG,QAAb;QACA,IAAIO,cAAc,GAAG7D,WAAW,CAAC7B,GAAZ,CAAgBuC,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,CAAhB,CAArB;;QACA,IAAI4B,cAAJ,EAAoB;UAChBP,MAAM,GAAGO,cAAT;;UACA,IAAInD,QAAQ,CAACiC,MAAT,CAAgBV,aAAa,GAAG,CAAhC,MAAuC,GAA3C,EAAgD;YAC5C,MAAM,IAAID,KAAJ,CAAU,cAAV,CAAN;UACH;;UACDU,eAAe,CAAC,CAAD,CAAf;QACH,CAND,MAOK,IAAIhC,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;UAC7CqB,MAAM,GAAG,QAAT;UACAZ,eAAe,CAAC,CAAD,CAAf;QACH,CApCuB,CAqCxB;;;QACA,IAAI9D,KAAK,GAAG,EAAZ;QACA,IAAI4E,UAAU,GAAG,IAAjB;;QACA,IAAIF,MAAM,KAAK,QAAf,EAAyB;UACrB,IAAIxC,MAAM,CAACH,GAAP,CAAWD,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,CAAX,CAAJ,EAAgD;YAC5C,IAAI6B,KAAK,GAAGpD,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,CAAZ;YACA,IAAI8B,UAAU,GAAG9B,aAAa,GAAG,CAAjC;;YACA,OAAO8B,UAAU,GAAGrD,QAAQ,CAACpB,MAAtB,KACFoB,QAAQ,CAACiC,MAAT,CAAgBoB,UAAhB,MAAgCD,KAAhC,IACGlB,SAAS,CAACmB,UAAD,CAFV,CAAP,EAEgC;cAC5BA,UAAU,IAAI,CAAd;YACH;;YACD,IAAIrD,QAAQ,CAACiC,MAAT,CAAgBoB,UAAhB,MAAgCD,KAApC,EAA2C;cACvC,MAAM,IAAI9B,KAAJ,CAAU,4BAAV,CAAN;YACH;;YACDpD,KAAK,GAAG2C,WAAW,CAACb,QAAQ,CAACf,KAAT,CAAesC,aAAa,GAAG,CAA/B,EAAkC8B,UAAlC,CAAD,CAAnB;YACA9B,aAAa,GAAG8B,UAAU,GAAG,CAA7B;UACH,CAbD,MAcK;YACD,IAAIC,UAAU,GAAG/B,aAAjB;;YACA,OAAOA,aAAa,GAAGvB,QAAQ,CAACpB,MAAzB,KACD,CAACoC,YAAY,CAAChB,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,CAAD,CAAb,IACEvB,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GADtC,IAEGW,SAAS,CAACX,aAAD,CAHV,CAAP,EAGmC;cAC/BA,aAAa,IAAI,CAAjB;YACH;;YACDrD,KAAK,GAAG2C,WAAW,CAACb,QAAQ,CAACf,KAAT,CAAeqE,UAAf,EAA2B/B,aAA3B,CAAD,CAAnB;UACH;;UACDS,eAAe,CAAC,CAAD,CAAf,CAzBqB,CA0BrB;;UACA,IAAIuB,WAAW,GAAGvD,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,CAAlB,CA3BqB,CA4BrB;;UACA,IAAIgC,WAAW,KAAK,GAAhB,IAAuBA,WAAW,KAAK,GAA3C,EAAgD;YAC5CT,UAAU,GAAG,KAAb;YACAd,eAAe,CAAC,CAAD,CAAf;UACH,CAHD,MAIK,IAAIuB,WAAW,KAAK,GAAhB,IAAuBA,WAAW,KAAK,GAA3C,EAAgD;YACjDT,UAAU,GAAG,IAAb;YACAd,eAAe,CAAC,CAAD,CAAf;UACH;QACJ,CA7EuB,CA8ExB;;;QACA,IAAI,CAACd,OAAO,CAAC6B,OAAb,EAAsB;UAClB;UACAD,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+CA,UAA/C,GAA6DA,UAAU,GAAG/C,yBAAyB,CAACE,GAA1B,CAA8B+C,MAA9B,CAA1E;QACH;;QACD,IAAIhD,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;UACxC,MAAM,IAAID,KAAJ,CAAU,qCAAV,CAAN;QACH;;QACDC,aAAa,IAAI,CAAjB;QACA,IAAIiC,iBAAiB,GAAG;UACpBtD,IAAI,EAAE,WADc;UAEpB6B,IAAI,EAAEiB,MAFc;UAGpBJ,MAAM,EAAEA,MAHY;UAIpB1E,KAAK,EAAEA,KAJa;UAKpB2E,SAAS,EAAEA,SALS;UAMpBC,UAAU,EAAEA;QANQ,CAAxB;QAQApB,MAAM,CAACa,IAAP,CAAYiB,iBAAZ;MACH,CAhGI,MAiGA,IAAIlB,SAAS,KAAK,GAAlB,EAAuB;QACxB,IAAItC,QAAQ,CAACiC,MAAT,CAAgBV,aAAa,GAAG,CAAhC,MAAuC,GAA3C,EAAgD;UAC5CG,MAAM,CAACa,IAAP,CAAY;YACRrC,IAAI,EAAE,gBADE;YAER6B,IAAI,EAAEH,OAAO,CAAC,CAAD,CAAP,CAAWsB,WAAX;UAFE,CAAZ;UAIA;QACH;;QACD,IAAIO,MAAM,GAAG7B,OAAO,CAAC,CAAD,CAAP,CAAWsB,WAAX,EAAb;QACA,IAAIQ,IAAI,GAAG,IAAX;;QACA,IAAI1D,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;UACxC,IAAI7B,aAAa,CAACO,GAAd,CAAkBwD,MAAlB,CAAJ,EAA+B;YAC3B,IAAIrD,MAAM,CAACH,GAAP,CAAWD,QAAQ,CAACiC,MAAT,CAAgBV,aAAa,GAAG,CAAhC,CAAX,CAAJ,EAAoD;cAChD,MAAM,IAAID,KAAJ,CAAU,qBAAqBmC,MAArB,GAA8B,mBAAxC,CAAN;YACH;;YACDC,IAAI,GAAG,EAAP;YACAnC,aAAa,GAAGF,aAAa,CAACqC,IAAD,EAAO1D,QAAP,EAAiBkB,OAAjB,EAA0BK,aAAa,GAAG,CAA1C,CAA7B;;YACA,IAAIvB,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;cACxC,MAAM,IAAID,KAAJ,CAAU,qCAAqCmC,MAArC,GAA8C,IAA9C,GAAqDzD,QAArD,GAAgE,GAA1E,CAAN;YACH;;YACDuB,aAAa,IAAI,CAAjB;UACH,CAVD,MAWK;YACDA,aAAa,IAAI,CAAjB;YACA,IAAIoC,KAAK,GAAGpC,aAAZ;YACA,IAAIqC,OAAO,GAAG,CAAd;;YACA,OAAOA,OAAO,GAAG,CAAV,IAAerC,aAAa,GAAGvB,QAAQ,CAACpB,MAA/C,EAAuD2C,aAAa,EAApE,EAAwE;cACpE,IAAIvB,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAnC,IACA,CAACW,SAAS,CAACX,aAAD,CADd,EAC+B;gBAC3BqC,OAAO;cACV,CAHD,MAIK,IAAI5D,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAnC,IACL,CAACW,SAAS,CAACX,aAAD,CADT,EAC0B;gBAC3BqC,OAAO;cACV;YACJ;;YACD,IAAIA,OAAJ,EAAa;cACT,MAAM,IAAItC,KAAJ,CAAU,yBAAV,CAAN;YACH;;YACDoC,IAAI,GAAG1D,QAAQ,CAACf,KAAT,CAAe0E,KAAf,EAAsBpC,aAAa,GAAG,CAAtC,CAAP;;YACA,IAAIpB,sBAAsB,CAACF,GAAvB,CAA2BwD,MAA3B,CAAJ,EAAwC;cACpC,IAAII,IAAI,GAAGH,IAAI,CAACzB,MAAL,CAAY,CAAZ,CAAX;;cACA,IAAI4B,IAAI,KAAKH,IAAI,CAACzE,KAAL,CAAW,CAAC,CAAZ,CAAT,IAA2BmB,MAAM,CAACH,GAAP,CAAW4D,IAAX,CAA/B,EAAiD;gBAC7CH,IAAI,GAAGA,IAAI,CAACzE,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAP;cACH;;cACDyE,IAAI,GAAG7C,WAAW,CAAC6C,IAAD,CAAlB;YACH;UACJ;QACJ;;QACDhC,MAAM,CAACa,IAAP,CAAY;UAAErC,IAAI,EAAE,QAAR;UAAkB6B,IAAI,EAAE0B,MAAxB;UAAgCC,IAAI,EAAEA;QAAtC,CAAZ;MACH,CAlDI,MAmDA;QACD,IAAIb,SAAS,GAAG,IAAhB;QACA,IAAIiB,MAAM,GAAG,KAAK,CAAlB;;QACA,IAAIxB,SAAS,KAAK,GAAlB,EAAuB;UACnBf,aAAa,IAAI,CAAjB;UACAuC,MAAM,GAAG,GAAT;QACH,CAHD,MAIK,IAAI1E,MAAM,CAAC2E,IAAP,CAAY/D,QAAQ,CAACf,KAAT,CAAesC,aAAf,CAAZ,CAAJ,EAAgD;UACjD,IAAIvB,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;YACxCsB,SAAS,GAAG,EAAZ;YACAtB,aAAa,IAAI,CAAjB;UACH;;UACDuC,MAAM,GAAGlC,OAAO,CAAC,CAAD,CAAhB;QACH,CANI,MAOA;UACD;AACpB;AACA;AACA;AACA;AACA;UACoB,IAAIF,MAAM,CAAC9C,MAAP,IACA8C,MAAM,CAACA,MAAM,CAAC9C,MAAP,GAAgB,CAAjB,CAAN,CAA0BsB,IAA1B,KAAmC,YADvC,EACqD;YACjDwB,MAAM,CAACsC,GAAP;UACH;;UACDC,QAAQ,CAAC9C,UAAD,EAAaO,MAAb,CAAR;UACA,OAAOH,aAAP;QACH;;QACD,IAAIvB,QAAQ,CAACiC,MAAT,CAAgBV,aAAhB,MAAmC,GAAvC,EAA4C;UACxCsB,SAAS,GAAGiB,MAAZ;;UACA,IAAI9D,QAAQ,CAACiC,MAAT,CAAgBV,aAAa,GAAG,CAAhC,MAAuC,GAA3C,EAAgD;YAC5CuC,MAAM,GAAG,GAAT;YACAvC,aAAa,IAAI,CAAjB;UACH,CAHD,MAIK;YACDuC,MAAM,GAAGlC,OAAO,CAAC,CAAD,CAAhB;UACH;QACJ;;QACD,IAAIkC,MAAM,KAAK,GAAf,EAAoB;UAChBpC,MAAM,CAACa,IAAP,CAAY;YAAErC,IAAI,EAAE,WAAR;YAAqB2C,SAAS,EAAEA;UAAhC,CAAZ;QACH,CAFD,MAGK;UACD,IAAI,CAACpB,EAAE,GAAGP,OAAO,CAACgD,aAAd,MAAiC,IAAjC,IAAyCzC,EAAE,KAAK,KAAK,CAArD,GAAyDA,EAAzD,GAA8D,CAACP,OAAO,CAAC6B,OAA3E,EAAoF;YAChFe,MAAM,GAAGA,MAAM,CAACZ,WAAP,EAAT;UACH;;UACDxB,MAAM,CAACa,IAAP,CAAY;YAAErC,IAAI,EAAE,KAAR;YAAe6B,IAAI,EAAE+B,MAArB;YAA6BjB,SAAS,EAAEA;UAAxC,CAAZ;QACH;MACJ;IACJ;EACJ;;EACDoB,QAAQ,CAAC9C,UAAD,EAAaO,MAAb,CAAR;EACA,OAAOH,aAAP;AACH;;AACD,SAAS0C,QAAT,CAAkB9C,UAAlB,EAA8BO,MAA9B,EAAsC;EAClC,IAAIP,UAAU,CAACvC,MAAX,GAAoB,CAApB,IAAyB8C,MAAM,CAAC9C,MAAP,KAAkB,CAA/C,EAAkD;IAC9C,MAAM,IAAI0C,KAAJ,CAAU,oBAAV,CAAN;EACH;;EACDH,UAAU,CAACoB,IAAX,CAAgBb,MAAhB;AACH;;;;;;;;;;;AC/aY;;AACb,IAAInD,aAAa,GAAI,QAAQ,KAAKA,aAAd,IAAgC,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;EAC1E,IAAIA,IAAI,IAAIC,SAAS,CAACC,MAAV,KAAqB,CAAjC,EAAoC,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGL,IAAI,CAACG,MAApB,EAA4BG,EAAjC,EAAqCF,CAAC,GAAGC,CAAzC,EAA4CD,CAAC,EAA7C,EAAiD;IACjF,IAAIE,EAAE,IAAI,EAAEF,CAAC,IAAIJ,IAAP,CAAV,EAAwB;MACpB,IAAI,CAACM,EAAL,EAASA,EAAE,GAAGC,KAAK,CAACpB,SAAN,CAAgBqB,KAAhB,CAAsBnB,IAAtB,CAA2BW,IAA3B,EAAiC,CAAjC,EAAoCI,CAApC,CAAL;MACTE,EAAE,CAACF,CAAD,CAAF,GAAQJ,IAAI,CAACI,CAAD,CAAZ;IACH;EACJ;EACD,OAAOL,EAAE,CAACU,MAAH,CAAUH,EAAE,IAAIC,KAAK,CAACpB,SAAN,CAAgBqB,KAAhB,CAAsBnB,IAAtB,CAA2BW,IAA3B,CAAhB,CAAP;AACH,CARD;;AASAzB,8CAA6C;EAAEkB,KAAK,EAAE;AAAT,CAA7C;AACA,IAAIoB,WAAW,GAAG;EACd6E,MAAM,EAAE,EADM;EAEdC,OAAO,EAAE,GAFK;EAGdT,KAAK,EAAE,GAHO;EAIdU,GAAG,EAAE,GAJS;EAKdC,GAAG,EAAE,GALS;EAMdC,GAAG,EAAE,GANS;EAOdC,MAAM,EAAE;AAPM,CAAlB;AASA,IAAIC,aAAa,GAAG,IAAI9E,GAAJ,CAAQpB,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKvB,MAAM,CAAC6C,IAAP,CAAYP,WAAZ,EACvDQ,GADuD,CACnD,UAAU4E,OAAV,EAAmB;EAAE,OAAOpF,WAAW,CAACoF,OAAD,CAAlB;AAA8B,CADA,EAEvDC,MAFuD,CAEhDC,OAFgD,CAAL,EAEjC,IAFiC,CAAd,EAEZ,CACzB,GADyB,EAEzB,GAFyB,EAGzB,GAHyB,EAIzB,GAJyB,EAKzB,IALyB,EAMzB,GANyB,EAOzB,GAPyB,EAQzB,GARyB,CAFY,EAWtC,KAXsC,CAArB,CAApB;AAYA;AACA;AACA;AACA;AACA;;AACA,SAASzG,SAAT,CAAmB6B,QAAnB,EAA6B;EACzB,OAAOA,QAAQ,CAACF,GAAT,CAAa+E,oBAAb,EAAmCC,IAAnC,CAAwC,IAAxC,CAAP;AACH;;AACDjI,kBAAA,GAAkBsB,SAAlB;;AACA,SAAS0G,oBAAT,CAA8BE,KAA9B,EAAqC;EACjC,OAAOA,KAAK,CAACjF,GAAN,CAAUkF,cAAV,EAA0BF,IAA1B,CAA+B,EAA/B,CAAP;AACH;;AACD,SAASE,cAAT,CAAwBD,KAAxB,EAA+B;EAC3B,QAAQA,KAAK,CAAC7E,IAAd;IACI;IACA,KAAK,OAAL;MACI,OAAO,KAAP;;IACJ,KAAK,QAAL;MACI,OAAO,KAAP;;IACJ,KAAK,SAAL;MACI,OAAO,KAAP;;IACJ,KAAK,UAAL;MACI,OAAO,KAAP;;IACJ,KAAK,YAAL;MACI,OAAO,GAAP;;IACJ,KAAK,WAAL;MACI,OAAO+E,YAAY,CAACF,KAAK,CAAClC,SAAP,CAAZ,GAAgC,GAAvC;;IACJ,KAAK,KAAL;MACI,OAAOqC,iBAAiB,CAACH,KAAD,CAAxB;;IACJ,KAAK,gBAAL;MACI,OAAO,OAAOI,UAAU,CAACJ,KAAK,CAAChD,IAAP,CAAxB;;IACJ,KAAK,QAAL;MACI,IAAIgD,KAAK,CAACrB,IAAN,KAAe,IAAnB,EACI,OAAO,MAAMyB,UAAU,CAACJ,KAAK,CAAChD,IAAP,CAAvB;;MACJ,IAAI,OAAOgD,KAAK,CAACrB,IAAb,KAAsB,QAA1B,EAAoC;QAChC,OAAO,MAAMyB,UAAU,CAACJ,KAAK,CAAChD,IAAP,CAAhB,GAA+B,GAA/B,GAAqCoD,UAAU,CAACJ,KAAK,CAACrB,IAAP,CAA/C,GAA8D,GAArE;MACH;;MACD,OAAO,MAAMyB,UAAU,CAACJ,KAAK,CAAChD,IAAP,CAAhB,GAA+B,GAA/B,GAAqC5D,SAAS,CAAC4G,KAAK,CAACrB,IAAP,CAA9C,GAA6D,GAApE;;IACJ,KAAK,WAAL;MAAkB;QACd,IAAIqB,KAAK,CAAChD,IAAN,KAAe,IAAf,IACAgD,KAAK,CAACnC,MAAN,KAAiB,QADjB,IAEA,CAACmC,KAAK,CAACjC,UAFP,IAGA,CAACiC,KAAK,CAAClC,SAHX,EAGsB;UAClB,OAAO,MAAMsC,UAAU,CAACJ,KAAK,CAAC7G,KAAP,CAAvB;QACH;;QACD,IAAI6G,KAAK,CAAChD,IAAN,KAAe,OAAf,IACAgD,KAAK,CAACnC,MAAN,KAAiB,SADjB,IAEA,CAACmC,KAAK,CAACjC,UAFP,IAGA,CAACiC,KAAK,CAAClC,SAHX,EAGsB;UAClB,OAAO,MAAMsC,UAAU,CAACJ,KAAK,CAAC7G,KAAP,CAAvB;QACH;;QACD,IAAIyE,MAAM,GAAGuC,iBAAiB,CAACH,KAAD,CAA9B;;QACA,IAAIA,KAAK,CAACnC,MAAN,KAAiB,QAArB,EAA+B;UAC3B,OAAO,MAAMD,MAAN,GAAe,GAAtB;QACH;;QACD,OAAO,MAAMA,MAAN,GAAerD,WAAW,CAACyF,KAAK,CAACnC,MAAP,CAA1B,GAA2C,IAA3C,GAAkDuC,UAAU,CAACJ,KAAK,CAAC7G,KAAP,CAA5D,GAA4E,GAA5E,IAAmF6G,KAAK,CAACjC,UAAN,GAAmB,GAAnB,GAAyBiC,KAAK,CAACjC,UAAN,KAAqB,KAArB,GAA6B,GAA7B,GAAmC,EAA/I,IAAqJ,GAA5J;MACH;EA3CL;AA6CH;;AACD,SAASoC,iBAAT,CAA2BH,KAA3B,EAAkC;EAC9B,OAAO,KAAKE,YAAY,CAACF,KAAK,CAAClC,SAAP,CAAjB,GAAqCsC,UAAU,CAACJ,KAAK,CAAChD,IAAP,CAAtD;AACH;;AACD,SAASkD,YAAT,CAAsBpC,SAAtB,EAAiC;EAC7B,OAAOA,SAAS,KAAK,IAAd,GACD,CAACA,SAAS,KAAK,GAAd,GAAoB,GAApB,GAA0BsC,UAAU,CAACtC,SAAD,CAArC,IAAoD,GADnD,GAED,EAFN;AAGH;;AACD,SAASsC,UAAT,CAAoBrE,GAApB,EAAyB;EACrB,OAAOA,GAAG,CACLsE,KADE,CACI,EADJ,EAEFtF,GAFE,CAEE,UAAUmB,CAAV,EAAa;IAAE,OAAQwD,aAAa,CAACxE,GAAd,CAAkBgB,CAAlB,IAAuB,OAAOA,CAA9B,GAAkCA,CAA1C;EAA+C,CAFhE,EAGF6D,IAHE,CAGG,EAHH,CAAP;AAIH;;;;;;;;;;ACxGD;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIO,OAAO,GAAI,UAAUxI,OAAV,EAAmB;EAChC;;EAEA,IAAIyI,EAAE,GAAGtI,MAAM,CAACY,SAAhB;EACA,IAAI2H,MAAM,GAAGD,EAAE,CAACzH,cAAhB;EACA,IAAIP,SAAJ,CALgC,CAKjB;;EACf,IAAIkI,OAAO,GAAG,OAAOC,MAAP,KAAkB,UAAlB,GAA+BA,MAA/B,GAAwC,EAAtD;EACA,IAAIC,cAAc,GAAGF,OAAO,CAACG,QAAR,IAAoB,YAAzC;EACA,IAAIC,mBAAmB,GAAGJ,OAAO,CAACK,aAAR,IAAyB,iBAAnD;EACA,IAAIC,iBAAiB,GAAGN,OAAO,CAACO,WAAR,IAAuB,eAA/C;;EAEA,SAASC,MAAT,CAAgBC,GAAhB,EAAqBC,GAArB,EAA0BhI,KAA1B,EAAiC;IAC/BlB,MAAM,CAACO,cAAP,CAAsB0I,GAAtB,EAA2BC,GAA3B,EAAgC;MAC9BhI,KAAK,EAAEA,KADuB;MAE9BV,UAAU,EAAE,IAFkB;MAG9B2I,YAAY,EAAE,IAHgB;MAI9BC,QAAQ,EAAE;IAJoB,CAAhC;IAMA,OAAOH,GAAG,CAACC,GAAD,CAAV;EACD;;EACD,IAAI;IACF;IACAF,MAAM,CAAC,EAAD,EAAK,EAAL,CAAN;EACD,CAHD,CAGE,OAAOK,GAAP,EAAY;IACZL,MAAM,GAAG,gBAASC,GAAT,EAAcC,GAAd,EAAmBhI,KAAnB,EAA0B;MACjC,OAAO+H,GAAG,CAACC,GAAD,CAAH,GAAWhI,KAAlB;IACD,CAFD;EAGD;;EAED,SAASoI,IAAT,CAAcC,OAAd,EAAuBC,OAAvB,EAAgCC,IAAhC,EAAsCC,WAAtC,EAAmD;IACjD;IACA,IAAIC,cAAc,GAAGH,OAAO,IAAIA,OAAO,CAAC5I,SAAR,YAA6BgJ,SAAxC,GAAoDJ,OAApD,GAA8DI,SAAnF;IACA,IAAIC,SAAS,GAAG7J,MAAM,CAACC,MAAP,CAAc0J,cAAc,CAAC/I,SAA7B,CAAhB;IACA,IAAIkJ,OAAO,GAAG,IAAIC,OAAJ,CAAYL,WAAW,IAAI,EAA3B,CAAd,CAJiD,CAMjD;IACA;;IACAG,SAAS,CAACG,OAAV,GAAoBC,gBAAgB,CAACV,OAAD,EAAUE,IAAV,EAAgBK,OAAhB,CAApC;IAEA,OAAOD,SAAP;EACD;;EACDhK,OAAO,CAACyJ,IAAR,GAAeA,IAAf,CAzCgC,CA2ChC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EACA,SAASY,QAAT,CAAkBC,EAAlB,EAAsBlB,GAAtB,EAA2BmB,GAA3B,EAAgC;IAC9B,IAAI;MACF,OAAO;QAAElH,IAAI,EAAE,QAAR;QAAkBkH,GAAG,EAAED,EAAE,CAACrJ,IAAH,CAAQmI,GAAR,EAAamB,GAAb;MAAvB,CAAP;IACD,CAFD,CAEE,OAAOf,GAAP,EAAY;MACZ,OAAO;QAAEnG,IAAI,EAAE,OAAR;QAAiBkH,GAAG,EAAEf;MAAtB,CAAP;IACD;EACF;;EAED,IAAIgB,sBAAsB,GAAG,gBAA7B;EACA,IAAIC,sBAAsB,GAAG,gBAA7B;EACA,IAAIC,iBAAiB,GAAG,WAAxB;EACA,IAAIC,iBAAiB,GAAG,WAAxB,CAhEgC,CAkEhC;EACA;;EACA,IAAIC,gBAAgB,GAAG,EAAvB,CApEgC,CAsEhC;EACA;EACA;EACA;;EACA,SAASb,SAAT,GAAqB,CAAE;;EACvB,SAASc,iBAAT,GAA6B,CAAE;;EAC/B,SAASC,0BAAT,GAAsC,CAAE,CA5ER,CA8EhC;EACA;;;EACA,IAAIC,iBAAiB,GAAG,EAAxB;;EACAA,iBAAiB,CAAClC,cAAD,CAAjB,GAAoC,YAAY;IAC9C,OAAO,IAAP;EACD,CAFD;;EAIA,IAAImC,QAAQ,GAAG7K,MAAM,CAAC8K,cAAtB;EACA,IAAIC,uBAAuB,GAAGF,QAAQ,IAAIA,QAAQ,CAACA,QAAQ,CAACG,MAAM,CAAC,EAAD,CAAP,CAAT,CAAlD;;EACA,IAAID,uBAAuB,IACvBA,uBAAuB,KAAKzC,EAD5B,IAEAC,MAAM,CAACzH,IAAP,CAAYiK,uBAAZ,EAAqCrC,cAArC,CAFJ,EAE0D;IACxD;IACA;IACAkC,iBAAiB,GAAGG,uBAApB;EACD;;EAED,IAAIE,EAAE,GAAGN,0BAA0B,CAAC/J,SAA3B,GACPgJ,SAAS,CAAChJ,SAAV,GAAsBZ,MAAM,CAACC,MAAP,CAAc2K,iBAAd,CADxB;EAEAF,iBAAiB,CAAC9J,SAAlB,GAA8BqK,EAAE,CAACC,WAAH,GAAiBP,0BAA/C;EACAA,0BAA0B,CAACO,WAA3B,GAAyCR,iBAAzC;EACAA,iBAAiB,CAACS,WAAlB,GAAgCnC,MAAM,CACpC2B,0BADoC,EAEpC7B,iBAFoC,EAGpC,mBAHoC,CAAtC,CAnGgC,CAyGhC;EACA;;EACA,SAASsC,qBAAT,CAA+BxK,SAA/B,EAA0C;IACxC,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4ByK,OAA5B,CAAoC,UAASC,MAAT,EAAiB;MACnDtC,MAAM,CAACpI,SAAD,EAAY0K,MAAZ,EAAoB,UAASlB,GAAT,EAAc;QACtC,OAAO,KAAKJ,OAAL,CAAasB,MAAb,EAAqBlB,GAArB,CAAP;MACD,CAFK,CAAN;IAGD,CAJD;EAKD;;EAEDvK,OAAO,CAAC0L,mBAAR,GAA8B,UAASC,MAAT,EAAiB;IAC7C,IAAIC,IAAI,GAAG,OAAOD,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACN,WAAlD;IACA,OAAOO,IAAI,GACPA,IAAI,KAAKf,iBAAT,IACA;IACA;IACA,CAACe,IAAI,CAACN,WAAL,IAAoBM,IAAI,CAAC1G,IAA1B,MAAoC,mBAJ7B,GAKP,KALJ;EAMD,CARD;;EAUAlF,OAAO,CAAC6L,IAAR,GAAe,UAASF,MAAT,EAAiB;IAC9B,IAAIxL,MAAM,CAAC2L,cAAX,EAA2B;MACzB3L,MAAM,CAAC2L,cAAP,CAAsBH,MAAtB,EAA8Bb,0BAA9B;IACD,CAFD,MAEO;MACLa,MAAM,CAACI,SAAP,GAAmBjB,0BAAnB;MACA3B,MAAM,CAACwC,MAAD,EAAS1C,iBAAT,EAA4B,mBAA5B,CAAN;IACD;;IACD0C,MAAM,CAAC5K,SAAP,GAAmBZ,MAAM,CAACC,MAAP,CAAcgL,EAAd,CAAnB;IACA,OAAOO,MAAP;EACD,CATD,CA7HgC,CAwIhC;EACA;EACA;EACA;;;EACA3L,OAAO,CAACgM,KAAR,GAAgB,UAASzB,GAAT,EAAc;IAC5B,OAAO;MAAE0B,OAAO,EAAE1B;IAAX,CAAP;EACD,CAFD;;EAIA,SAAS2B,aAAT,CAAuBlC,SAAvB,EAAkCmC,WAAlC,EAA+C;IAC7C,SAASC,MAAT,CAAgBX,MAAhB,EAAwBlB,GAAxB,EAA6B8B,OAA7B,EAAsCC,MAAtC,EAA8C;MAC5C,IAAIC,MAAM,GAAGlC,QAAQ,CAACL,SAAS,CAACyB,MAAD,CAAV,EAAoBzB,SAApB,EAA+BO,GAA/B,CAArB;;MACA,IAAIgC,MAAM,CAAClJ,IAAP,KAAgB,OAApB,EAA6B;QAC3BiJ,MAAM,CAACC,MAAM,CAAChC,GAAR,CAAN;MACD,CAFD,MAEO;QACL,IAAIiC,MAAM,GAAGD,MAAM,CAAChC,GAApB;QACA,IAAIlJ,KAAK,GAAGmL,MAAM,CAACnL,KAAnB;;QACA,IAAIA,KAAK,IACL,OAAOA,KAAP,KAAiB,QADjB,IAEAqH,MAAM,CAACzH,IAAP,CAAYI,KAAZ,EAAmB,SAAnB,CAFJ,EAEmC;UACjC,OAAO8K,WAAW,CAACE,OAAZ,CAAoBhL,KAAK,CAAC4K,OAA1B,EAAmCQ,IAAnC,CAAwC,UAASpL,KAAT,EAAgB;YAC7D+K,MAAM,CAAC,MAAD,EAAS/K,KAAT,EAAgBgL,OAAhB,EAAyBC,MAAzB,CAAN;UACD,CAFM,EAEJ,UAAS9C,GAAT,EAAc;YACf4C,MAAM,CAAC,OAAD,EAAU5C,GAAV,EAAe6C,OAAf,EAAwBC,MAAxB,CAAN;UACD,CAJM,CAAP;QAKD;;QAED,OAAOH,WAAW,CAACE,OAAZ,CAAoBhL,KAApB,EAA2BoL,IAA3B,CAAgC,UAASC,SAAT,EAAoB;UACzD;UACA;UACA;UACAF,MAAM,CAACnL,KAAP,GAAeqL,SAAf;UACAL,OAAO,CAACG,MAAD,CAAP;QACD,CANM,EAMJ,UAASG,KAAT,EAAgB;UACjB;UACA;UACA,OAAOP,MAAM,CAAC,OAAD,EAAUO,KAAV,EAAiBN,OAAjB,EAA0BC,MAA1B,CAAb;QACD,CAVM,CAAP;MAWD;IACF;;IAED,IAAIM,eAAJ;;IAEA,SAASC,OAAT,CAAiBpB,MAAjB,EAAyBlB,GAAzB,EAA8B;MAC5B,SAASuC,0BAAT,GAAsC;QACpC,OAAO,IAAIX,WAAJ,CAAgB,UAASE,OAAT,EAAkBC,MAAlB,EAA0B;UAC/CF,MAAM,CAACX,MAAD,EAASlB,GAAT,EAAc8B,OAAd,EAAuBC,MAAvB,CAAN;QACD,CAFM,CAAP;MAGD;;MAED,OAAOM,eAAe,GACpB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAA,eAAe,GAAGA,eAAe,CAACH,IAAhB,CAChBK,0BADgB,EAEhB;MACA;MACAA,0BAJgB,CAAH,GAKXA,0BAA0B,EAlBhC;IAmBD,CA5D4C,CA8D7C;IACA;;;IACA,KAAK3C,OAAL,GAAe0C,OAAf;EACD;;EAEDtB,qBAAqB,CAACW,aAAa,CAACnL,SAAf,CAArB;;EACAmL,aAAa,CAACnL,SAAd,CAAwBgI,mBAAxB,IAA+C,YAAY;IACzD,OAAO,IAAP;EACD,CAFD;;EAGA/I,OAAO,CAACkM,aAAR,GAAwBA,aAAxB,CAvNgC,CAyNhC;EACA;EACA;;EACAlM,OAAO,CAAC+M,KAAR,GAAgB,UAASrD,OAAT,EAAkBC,OAAlB,EAA2BC,IAA3B,EAAiCC,WAAjC,EAA8CsC,WAA9C,EAA2D;IACzE,IAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4BA,WAAW,GAAGa,OAAd;IAE5B,IAAIC,IAAI,GAAG,IAAIf,aAAJ,CACTzC,IAAI,CAACC,OAAD,EAAUC,OAAV,EAAmBC,IAAnB,EAAyBC,WAAzB,CADK,EAETsC,WAFS,CAAX;IAKA,OAAOnM,OAAO,CAAC0L,mBAAR,CAA4B/B,OAA5B,IACHsD,IADG,CACE;IADF,EAEHA,IAAI,CAACC,IAAL,GAAYT,IAAZ,CAAiB,UAASD,MAAT,EAAiB;MAChC,OAAOA,MAAM,CAACW,IAAP,GAAcX,MAAM,CAACnL,KAArB,GAA6B4L,IAAI,CAACC,IAAL,EAApC;IACD,CAFD,CAFJ;EAKD,CAbD;;EAeA,SAAS9C,gBAAT,CAA0BV,OAA1B,EAAmCE,IAAnC,EAAyCK,OAAzC,EAAkD;IAChD,IAAImD,KAAK,GAAG5C,sBAAZ;IAEA,OAAO,SAAS4B,MAAT,CAAgBX,MAAhB,EAAwBlB,GAAxB,EAA6B;MAClC,IAAI6C,KAAK,KAAK1C,iBAAd,EAAiC;QAC/B,MAAM,IAAIjG,KAAJ,CAAU,8BAAV,CAAN;MACD;;MAED,IAAI2I,KAAK,KAAKzC,iBAAd,EAAiC;QAC/B,IAAIc,MAAM,KAAK,OAAf,EAAwB;UACtB,MAAMlB,GAAN;QACD,CAH8B,CAK/B;QACA;;;QACA,OAAO8C,UAAU,EAAjB;MACD;;MAEDpD,OAAO,CAACwB,MAAR,GAAiBA,MAAjB;MACAxB,OAAO,CAACM,GAAR,GAAcA,GAAd;;MAEA,OAAO,IAAP,EAAa;QACX,IAAI+C,QAAQ,GAAGrD,OAAO,CAACqD,QAAvB;;QACA,IAAIA,QAAJ,EAAc;UACZ,IAAIC,cAAc,GAAGC,mBAAmB,CAACF,QAAD,EAAWrD,OAAX,CAAxC;;UACA,IAAIsD,cAAJ,EAAoB;YAClB,IAAIA,cAAc,KAAK3C,gBAAvB,EAAyC;YACzC,OAAO2C,cAAP;UACD;QACF;;QAED,IAAItD,OAAO,CAACwB,MAAR,KAAmB,MAAvB,EAA+B;UAC7B;UACA;UACAxB,OAAO,CAACwD,IAAR,GAAexD,OAAO,CAACyD,KAAR,GAAgBzD,OAAO,CAACM,GAAvC;QAED,CALD,MAKO,IAAIN,OAAO,CAACwB,MAAR,KAAmB,OAAvB,EAAgC;UACrC,IAAI2B,KAAK,KAAK5C,sBAAd,EAAsC;YACpC4C,KAAK,GAAGzC,iBAAR;YACA,MAAMV,OAAO,CAACM,GAAd;UACD;;UAEDN,OAAO,CAAC0D,iBAAR,CAA0B1D,OAAO,CAACM,GAAlC;QAED,CARM,MAQA,IAAIN,OAAO,CAACwB,MAAR,KAAmB,QAAvB,EAAiC;UACtCxB,OAAO,CAAC2D,MAAR,CAAe,QAAf,EAAyB3D,OAAO,CAACM,GAAjC;QACD;;QAED6C,KAAK,GAAG1C,iBAAR;QAEA,IAAI6B,MAAM,GAAGlC,QAAQ,CAACX,OAAD,EAAUE,IAAV,EAAgBK,OAAhB,CAArB;;QACA,IAAIsC,MAAM,CAAClJ,IAAP,KAAgB,QAApB,EAA8B;UAC5B;UACA;UACA+J,KAAK,GAAGnD,OAAO,CAACkD,IAAR,GACJxC,iBADI,GAEJF,sBAFJ;;UAIA,IAAI8B,MAAM,CAAChC,GAAP,KAAeK,gBAAnB,EAAqC;YACnC;UACD;;UAED,OAAO;YACLvJ,KAAK,EAAEkL,MAAM,CAAChC,GADT;YAEL4C,IAAI,EAAElD,OAAO,CAACkD;UAFT,CAAP;QAKD,CAhBD,MAgBO,IAAIZ,MAAM,CAAClJ,IAAP,KAAgB,OAApB,EAA6B;UAClC+J,KAAK,GAAGzC,iBAAR,CADkC,CAElC;UACA;;UACAV,OAAO,CAACwB,MAAR,GAAiB,OAAjB;UACAxB,OAAO,CAACM,GAAR,GAAcgC,MAAM,CAAChC,GAArB;QACD;MACF;IACF,CAxED;EAyED,CAvT+B,CAyThC;EACA;EACA;EACA;;;EACA,SAASiD,mBAAT,CAA6BF,QAA7B,EAAuCrD,OAAvC,EAAgD;IAC9C,IAAIwB,MAAM,GAAG6B,QAAQ,CAACxE,QAAT,CAAkBmB,OAAO,CAACwB,MAA1B,CAAb;;IACA,IAAIA,MAAM,KAAKhL,SAAf,EAA0B;MACxB;MACA;MACAwJ,OAAO,CAACqD,QAAR,GAAmB,IAAnB;;MAEA,IAAIrD,OAAO,CAACwB,MAAR,KAAmB,OAAvB,EAAgC;QAC9B;QACA,IAAI6B,QAAQ,CAACxE,QAAT,CAAkB,QAAlB,CAAJ,EAAiC;UAC/B;UACA;UACAmB,OAAO,CAACwB,MAAR,GAAiB,QAAjB;UACAxB,OAAO,CAACM,GAAR,GAAc9J,SAAd;UACA+M,mBAAmB,CAACF,QAAD,EAAWrD,OAAX,CAAnB;;UAEA,IAAIA,OAAO,CAACwB,MAAR,KAAmB,OAAvB,EAAgC;YAC9B;YACA;YACA,OAAOb,gBAAP;UACD;QACF;;QAEDX,OAAO,CAACwB,MAAR,GAAiB,OAAjB;QACAxB,OAAO,CAACM,GAAR,GAAc,IAAIsD,SAAJ,CACZ,gDADY,CAAd;MAED;;MAED,OAAOjD,gBAAP;IACD;;IAED,IAAI2B,MAAM,GAAGlC,QAAQ,CAACoB,MAAD,EAAS6B,QAAQ,CAACxE,QAAlB,EAA4BmB,OAAO,CAACM,GAApC,CAArB;;IAEA,IAAIgC,MAAM,CAAClJ,IAAP,KAAgB,OAApB,EAA6B;MAC3B4G,OAAO,CAACwB,MAAR,GAAiB,OAAjB;MACAxB,OAAO,CAACM,GAAR,GAAcgC,MAAM,CAAChC,GAArB;MACAN,OAAO,CAACqD,QAAR,GAAmB,IAAnB;MACA,OAAO1C,gBAAP;IACD;;IAED,IAAIkD,IAAI,GAAGvB,MAAM,CAAChC,GAAlB;;IAEA,IAAI,CAAEuD,IAAN,EAAY;MACV7D,OAAO,CAACwB,MAAR,GAAiB,OAAjB;MACAxB,OAAO,CAACM,GAAR,GAAc,IAAIsD,SAAJ,CAAc,kCAAd,CAAd;MACA5D,OAAO,CAACqD,QAAR,GAAmB,IAAnB;MACA,OAAO1C,gBAAP;IACD;;IAED,IAAIkD,IAAI,CAACX,IAAT,EAAe;MACb;MACA;MACAlD,OAAO,CAACqD,QAAQ,CAACS,UAAV,CAAP,GAA+BD,IAAI,CAACzM,KAApC,CAHa,CAKb;;MACA4I,OAAO,CAACiD,IAAR,GAAeI,QAAQ,CAACU,OAAxB,CANa,CAQb;MACA;MACA;MACA;MACA;MACA;;MACA,IAAI/D,OAAO,CAACwB,MAAR,KAAmB,QAAvB,EAAiC;QAC/BxB,OAAO,CAACwB,MAAR,GAAiB,MAAjB;QACAxB,OAAO,CAACM,GAAR,GAAc9J,SAAd;MACD;IAEF,CAnBD,MAmBO;MACL;MACA,OAAOqN,IAAP;IACD,CAvE6C,CAyE9C;IACA;;;IACA7D,OAAO,CAACqD,QAAR,GAAmB,IAAnB;IACA,OAAO1C,gBAAP;EACD,CA1Y+B,CA4YhC;EACA;;;EACAW,qBAAqB,CAACH,EAAD,CAArB;EAEAjC,MAAM,CAACiC,EAAD,EAAKnC,iBAAL,EAAwB,WAAxB,CAAN,CAhZgC,CAkZhC;EACA;EACA;EACA;EACA;;EACAmC,EAAE,CAACvC,cAAD,CAAF,GAAqB,YAAW;IAC9B,OAAO,IAAP;EACD,CAFD;;EAIAuC,EAAE,CAAC6C,QAAH,GAAc,YAAW;IACvB,OAAO,oBAAP;EACD,CAFD;;EAIA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;IAC1B,IAAIC,KAAK,GAAG;MAAEC,MAAM,EAAEF,IAAI,CAAC,CAAD;IAAd,CAAZ;;IAEA,IAAI,KAAKA,IAAT,EAAe;MACbC,KAAK,CAACE,QAAN,GAAiBH,IAAI,CAAC,CAAD,CAArB;IACD;;IAED,IAAI,KAAKA,IAAT,EAAe;MACbC,KAAK,CAACG,UAAN,GAAmBJ,IAAI,CAAC,CAAD,CAAvB;MACAC,KAAK,CAACI,QAAN,GAAiBL,IAAI,CAAC,CAAD,CAArB;IACD;;IAED,KAAKM,UAAL,CAAgB/I,IAAhB,CAAqB0I,KAArB;EACD;;EAED,SAASM,aAAT,CAAuBN,KAAvB,EAA8B;IAC5B,IAAI7B,MAAM,GAAG6B,KAAK,CAACO,UAAN,IAAoB,EAAjC;IACApC,MAAM,CAAClJ,IAAP,GAAc,QAAd;IACA,OAAOkJ,MAAM,CAAChC,GAAd;IACA6D,KAAK,CAACO,UAAN,GAAmBpC,MAAnB;EACD;;EAED,SAASrC,OAAT,CAAiBL,WAAjB,EAA8B;IAC5B;IACA;IACA;IACA,KAAK4E,UAAL,GAAkB,CAAC;MAAEJ,MAAM,EAAE;IAAV,CAAD,CAAlB;IACAxE,WAAW,CAAC2B,OAAZ,CAAoB0C,YAApB,EAAkC,IAAlC;IACA,KAAKU,KAAL,CAAW,IAAX;EACD;;EAED5O,OAAO,CAACgD,IAAR,GAAe,UAAS6L,MAAT,EAAiB;IAC9B,IAAI7L,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIqG,GAAT,IAAgBwF,MAAhB,EAAwB;MACtB7L,IAAI,CAAC0C,IAAL,CAAU2D,GAAV;IACD;;IACDrG,IAAI,CAAC8L,OAAL,GAL8B,CAO9B;IACA;;IACA,OAAO,SAAS5B,IAAT,GAAgB;MACrB,OAAOlK,IAAI,CAACjB,MAAZ,EAAoB;QAClB,IAAIsH,GAAG,GAAGrG,IAAI,CAACmE,GAAL,EAAV;;QACA,IAAIkC,GAAG,IAAIwF,MAAX,EAAmB;UACjB3B,IAAI,CAAC7L,KAAL,GAAagI,GAAb;UACA6D,IAAI,CAACC,IAAL,GAAY,KAAZ;UACA,OAAOD,IAAP;QACD;MACF,CARoB,CAUrB;MACA;MACA;;;MACAA,IAAI,CAACC,IAAL,GAAY,IAAZ;MACA,OAAOD,IAAP;IACD,CAfD;EAgBD,CAzBD;;EA2BA,SAAS/B,MAAT,CAAgB4D,QAAhB,EAA0B;IACxB,IAAIA,QAAJ,EAAc;MACZ,IAAIC,cAAc,GAAGD,QAAQ,CAAClG,cAAD,CAA7B;;MACA,IAAImG,cAAJ,EAAoB;QAClB,OAAOA,cAAc,CAAC/N,IAAf,CAAoB8N,QAApB,CAAP;MACD;;MAED,IAAI,OAAOA,QAAQ,CAAC7B,IAAhB,KAAyB,UAA7B,EAAyC;QACvC,OAAO6B,QAAP;MACD;;MAED,IAAI,CAACE,KAAK,CAACF,QAAQ,CAAChN,MAAV,CAAV,EAA6B;QAC3B,IAAIC,CAAC,GAAG,CAAC,CAAT;QAAA,IAAYkL,IAAI,GAAG,SAASA,IAAT,GAAgB;UACjC,OAAO,EAAElL,CAAF,GAAM+M,QAAQ,CAAChN,MAAtB,EAA8B;YAC5B,IAAI2G,MAAM,CAACzH,IAAP,CAAY8N,QAAZ,EAAsB/M,CAAtB,CAAJ,EAA8B;cAC5BkL,IAAI,CAAC7L,KAAL,GAAa0N,QAAQ,CAAC/M,CAAD,CAArB;cACAkL,IAAI,CAACC,IAAL,GAAY,KAAZ;cACA,OAAOD,IAAP;YACD;UACF;;UAEDA,IAAI,CAAC7L,KAAL,GAAaZ,SAAb;UACAyM,IAAI,CAACC,IAAL,GAAY,IAAZ;UAEA,OAAOD,IAAP;QACD,CAbD;;QAeA,OAAOA,IAAI,CAACA,IAAL,GAAYA,IAAnB;MACD;IACF,CA7BuB,CA+BxB;;;IACA,OAAO;MAAEA,IAAI,EAAEG;IAAR,CAAP;EACD;;EACDrN,OAAO,CAACmL,MAAR,GAAiBA,MAAjB;;EAEA,SAASkC,UAAT,GAAsB;IACpB,OAAO;MAAEhM,KAAK,EAAEZ,SAAT;MAAoB0M,IAAI,EAAE;IAA1B,CAAP;EACD;;EAEDjD,OAAO,CAACnJ,SAAR,GAAoB;IAClBsK,WAAW,EAAEnB,OADK;IAGlB0E,KAAK,EAAE,eAASM,aAAT,EAAwB;MAC7B,KAAKC,IAAL,GAAY,CAAZ;MACA,KAAKjC,IAAL,GAAY,CAAZ,CAF6B,CAG7B;MACA;;MACA,KAAKO,IAAL,GAAY,KAAKC,KAAL,GAAajN,SAAzB;MACA,KAAK0M,IAAL,GAAY,KAAZ;MACA,KAAKG,QAAL,GAAgB,IAAhB;MAEA,KAAK7B,MAAL,GAAc,MAAd;MACA,KAAKlB,GAAL,GAAW9J,SAAX;MAEA,KAAKgO,UAAL,CAAgBjD,OAAhB,CAAwBkD,aAAxB;;MAEA,IAAI,CAACQ,aAAL,EAAoB;QAClB,KAAK,IAAIhK,IAAT,IAAiB,IAAjB,EAAuB;UACrB;UACA,IAAIA,IAAI,CAACE,MAAL,CAAY,CAAZ,MAAmB,GAAnB,IACAsD,MAAM,CAACzH,IAAP,CAAY,IAAZ,EAAkBiE,IAAlB,CADA,IAEA,CAAC+J,KAAK,CAAC,CAAC/J,IAAI,CAAC9C,KAAL,CAAW,CAAX,CAAF,CAFV,EAE4B;YAC1B,KAAK8C,IAAL,IAAazE,SAAb;UACD;QACF;MACF;IACF,CA3BiB;IA6BlB2O,IAAI,EAAE,gBAAW;MACf,KAAKjC,IAAL,GAAY,IAAZ;MAEA,IAAIkC,SAAS,GAAG,KAAKZ,UAAL,CAAgB,CAAhB,CAAhB;MACA,IAAIa,UAAU,GAAGD,SAAS,CAACV,UAA3B;;MACA,IAAIW,UAAU,CAACjM,IAAX,KAAoB,OAAxB,EAAiC;QAC/B,MAAMiM,UAAU,CAAC/E,GAAjB;MACD;;MAED,OAAO,KAAKgF,IAAZ;IACD,CAvCiB;IAyClB5B,iBAAiB,EAAE,2BAAS6B,SAAT,EAAoB;MACrC,IAAI,KAAKrC,IAAT,EAAe;QACb,MAAMqC,SAAN;MACD;;MAED,IAAIvF,OAAO,GAAG,IAAd;;MACA,SAASwF,MAAT,CAAgBC,GAAhB,EAAqBC,MAArB,EAA6B;QAC3BpD,MAAM,CAAClJ,IAAP,GAAc,OAAd;QACAkJ,MAAM,CAAChC,GAAP,GAAaiF,SAAb;QACAvF,OAAO,CAACiD,IAAR,GAAewC,GAAf;;QAEA,IAAIC,MAAJ,EAAY;UACV;UACA;UACA1F,OAAO,CAACwB,MAAR,GAAiB,MAAjB;UACAxB,OAAO,CAACM,GAAR,GAAc9J,SAAd;QACD;;QAED,OAAO,CAAC,CAAEkP,MAAV;MACD;;MAED,KAAK,IAAI3N,CAAC,GAAG,KAAKyM,UAAL,CAAgB1M,MAAhB,GAAyB,CAAtC,EAAyCC,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;QACpD,IAAIoM,KAAK,GAAG,KAAKK,UAAL,CAAgBzM,CAAhB,CAAZ;QACA,IAAIuK,MAAM,GAAG6B,KAAK,CAACO,UAAnB;;QAEA,IAAIP,KAAK,CAACC,MAAN,KAAiB,MAArB,EAA6B;UAC3B;UACA;UACA;UACA,OAAOoB,MAAM,CAAC,KAAD,CAAb;QACD;;QAED,IAAIrB,KAAK,CAACC,MAAN,IAAgB,KAAKc,IAAzB,EAA+B;UAC7B,IAAIS,QAAQ,GAAGlH,MAAM,CAACzH,IAAP,CAAYmN,KAAZ,EAAmB,UAAnB,CAAf;UACA,IAAIyB,UAAU,GAAGnH,MAAM,CAACzH,IAAP,CAAYmN,KAAZ,EAAmB,YAAnB,CAAjB;;UAEA,IAAIwB,QAAQ,IAAIC,UAAhB,EAA4B;YAC1B,IAAI,KAAKV,IAAL,GAAYf,KAAK,CAACE,QAAtB,EAAgC;cAC9B,OAAOmB,MAAM,CAACrB,KAAK,CAACE,QAAP,EAAiB,IAAjB,CAAb;YACD,CAFD,MAEO,IAAI,KAAKa,IAAL,GAAYf,KAAK,CAACG,UAAtB,EAAkC;cACvC,OAAOkB,MAAM,CAACrB,KAAK,CAACG,UAAP,CAAb;YACD;UAEF,CAPD,MAOO,IAAIqB,QAAJ,EAAc;YACnB,IAAI,KAAKT,IAAL,GAAYf,KAAK,CAACE,QAAtB,EAAgC;cAC9B,OAAOmB,MAAM,CAACrB,KAAK,CAACE,QAAP,EAAiB,IAAjB,CAAb;YACD;UAEF,CALM,MAKA,IAAIuB,UAAJ,EAAgB;YACrB,IAAI,KAAKV,IAAL,GAAYf,KAAK,CAACG,UAAtB,EAAkC;cAChC,OAAOkB,MAAM,CAACrB,KAAK,CAACG,UAAP,CAAb;YACD;UAEF,CALM,MAKA;YACL,MAAM,IAAI9J,KAAJ,CAAU,wCAAV,CAAN;UACD;QACF;MACF;IACF,CAnGiB;IAqGlBmJ,MAAM,EAAE,gBAASvK,IAAT,EAAekH,GAAf,EAAoB;MAC1B,KAAK,IAAIvI,CAAC,GAAG,KAAKyM,UAAL,CAAgB1M,MAAhB,GAAyB,CAAtC,EAAyCC,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;QACpD,IAAIoM,KAAK,GAAG,KAAKK,UAAL,CAAgBzM,CAAhB,CAAZ;;QACA,IAAIoM,KAAK,CAACC,MAAN,IAAgB,KAAKc,IAArB,IACAzG,MAAM,CAACzH,IAAP,CAAYmN,KAAZ,EAAmB,YAAnB,CADA,IAEA,KAAKe,IAAL,GAAYf,KAAK,CAACG,UAFtB,EAEkC;UAChC,IAAIuB,YAAY,GAAG1B,KAAnB;UACA;QACD;MACF;;MAED,IAAI0B,YAAY,KACXzM,IAAI,KAAK,OAAT,IACAA,IAAI,KAAK,UAFE,CAAZ,IAGAyM,YAAY,CAACzB,MAAb,IAAuB9D,GAHvB,IAIAA,GAAG,IAAIuF,YAAY,CAACvB,UAJxB,EAIoC;QAClC;QACA;QACAuB,YAAY,GAAG,IAAf;MACD;;MAED,IAAIvD,MAAM,GAAGuD,YAAY,GAAGA,YAAY,CAACnB,UAAhB,GAA6B,EAAtD;MACApC,MAAM,CAAClJ,IAAP,GAAcA,IAAd;MACAkJ,MAAM,CAAChC,GAAP,GAAaA,GAAb;;MAEA,IAAIuF,YAAJ,EAAkB;QAChB,KAAKrE,MAAL,GAAc,MAAd;QACA,KAAKyB,IAAL,GAAY4C,YAAY,CAACvB,UAAzB;QACA,OAAO3D,gBAAP;MACD;;MAED,OAAO,KAAKmF,QAAL,CAAcxD,MAAd,CAAP;IACD,CArIiB;IAuIlBwD,QAAQ,EAAE,kBAASxD,MAAT,EAAiBiC,QAAjB,EAA2B;MACnC,IAAIjC,MAAM,CAAClJ,IAAP,KAAgB,OAApB,EAA6B;QAC3B,MAAMkJ,MAAM,CAAChC,GAAb;MACD;;MAED,IAAIgC,MAAM,CAAClJ,IAAP,KAAgB,OAAhB,IACAkJ,MAAM,CAAClJ,IAAP,KAAgB,UADpB,EACgC;QAC9B,KAAK6J,IAAL,GAAYX,MAAM,CAAChC,GAAnB;MACD,CAHD,MAGO,IAAIgC,MAAM,CAAClJ,IAAP,KAAgB,QAApB,EAA8B;QACnC,KAAKkM,IAAL,GAAY,KAAKhF,GAAL,GAAWgC,MAAM,CAAChC,GAA9B;QACA,KAAKkB,MAAL,GAAc,QAAd;QACA,KAAKyB,IAAL,GAAY,KAAZ;MACD,CAJM,MAIA,IAAIX,MAAM,CAAClJ,IAAP,KAAgB,QAAhB,IAA4BmL,QAAhC,EAA0C;QAC/C,KAAKtB,IAAL,GAAYsB,QAAZ;MACD;;MAED,OAAO5D,gBAAP;IACD,CAxJiB;IA0JlBoF,MAAM,EAAE,gBAASzB,UAAT,EAAqB;MAC3B,KAAK,IAAIvM,CAAC,GAAG,KAAKyM,UAAL,CAAgB1M,MAAhB,GAAyB,CAAtC,EAAyCC,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;QACpD,IAAIoM,KAAK,GAAG,KAAKK,UAAL,CAAgBzM,CAAhB,CAAZ;;QACA,IAAIoM,KAAK,CAACG,UAAN,KAAqBA,UAAzB,EAAqC;UACnC,KAAKwB,QAAL,CAAc3B,KAAK,CAACO,UAApB,EAAgCP,KAAK,CAACI,QAAtC;UACAE,aAAa,CAACN,KAAD,CAAb;UACA,OAAOxD,gBAAP;QACD;MACF;IACF,CAnKiB;IAqKlB,SAAS,gBAASyD,MAAT,EAAiB;MACxB,KAAK,IAAIrM,CAAC,GAAG,KAAKyM,UAAL,CAAgB1M,MAAhB,GAAyB,CAAtC,EAAyCC,CAAC,IAAI,CAA9C,EAAiD,EAAEA,CAAnD,EAAsD;QACpD,IAAIoM,KAAK,GAAG,KAAKK,UAAL,CAAgBzM,CAAhB,CAAZ;;QACA,IAAIoM,KAAK,CAACC,MAAN,KAAiBA,MAArB,EAA6B;UAC3B,IAAI9B,MAAM,GAAG6B,KAAK,CAACO,UAAnB;;UACA,IAAIpC,MAAM,CAAClJ,IAAP,KAAgB,OAApB,EAA6B;YAC3B,IAAI4M,MAAM,GAAG1D,MAAM,CAAChC,GAApB;YACAmE,aAAa,CAACN,KAAD,CAAb;UACD;;UACD,OAAO6B,MAAP;QACD;MACF,CAXuB,CAaxB;MACA;;;MACA,MAAM,IAAIxL,KAAJ,CAAU,uBAAV,CAAN;IACD,CArLiB;IAuLlByL,aAAa,EAAE,uBAASnB,QAAT,EAAmBhB,UAAnB,EAA+BC,OAA/B,EAAwC;MACrD,KAAKV,QAAL,GAAgB;QACdxE,QAAQ,EAAEqC,MAAM,CAAC4D,QAAD,CADF;QAEdhB,UAAU,EAAEA,UAFE;QAGdC,OAAO,EAAEA;MAHK,CAAhB;;MAMA,IAAI,KAAKvC,MAAL,KAAgB,MAApB,EAA4B;QAC1B;QACA;QACA,KAAKlB,GAAL,GAAW9J,SAAX;MACD;;MAED,OAAOmK,gBAAP;IACD;EArMiB,CAApB,CAjgBgC,CAysBhC;EACA;EACA;EACA;;EACA,OAAO5K,OAAP;AAED,CA/sBc,EAgtBb;AACA;AACA;AACA;AACA,QAA6BD,MAAM,CAACC,OAApC,GAA8C,CAptBjC,CAAf;;AAutBA,IAAI;EACFmQ,kBAAkB,GAAG3H,OAArB;AACD,CAFD,CAEE,OAAO4H,oBAAP,EAA6B;EAC7B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,QAAQ,CAAC,GAAD,EAAM,wBAAN,CAAR,CAAwC7H,OAAxC;AACD;;;;;;;;;;;;;;;;;AC3uBD;;AAEA,IAAM+H,KAAK,GAAG,SAARA,KAAQ,CAAClH,GAAD;EAAA,OAAS,UAACmH,IAAD;IAAA,OAAUF,yEAAA,0CAA4DjH,GAA5D,EAAmEmH,IAAnE,CAAV;EAAA,CAAT;AAAA,CAAd;;AAEO,IAAME,YAAY,GAAGvQ,MAAM,CAACwQ,MAAP,CAAc,CACxC;EACEtP,KAAK,EAAE,UADT;EAEE6D,IAAI,EAAEqL,KAAK,CAAC,eAAD,CAFb;EAGEK,WAAW,EAAEL,KAAK,CAAC,sBAAD;AAHpB,CADwC,EAMxC;EACElP,KAAK,EAAE,QADT;EAEE6D,IAAI,EAAEqL,KAAK,CAAC,aAAD,CAFb;EAGEK,WAAW,EAAEL,KAAK,CAAC,oBAAD;AAHpB,CANwC,EAWxC;EACElP,KAAK,EAAE,MADT;EAEE6D,IAAI,EAAEqL,KAAK,CAAC,WAAD,CAFb;EAGEK,WAAW,EAAEL,KAAK,CAAC,kBAAD;AAHpB,CAXwC,CAAd,CAArB;;;;;;;;;;;;;;;;;;;ACJP;CAGA;AACA;AACA;AACA;AACA;AAEA;;AACA,IAAMO,QAAQ,GAAGD,wEAAjB,EAEA;;AACA,iEAAe,UAACI,OAAD,EAAa;EAC1B;EACA,IAAM5M,OAAO,GAAGyM,QAAQ,CAACG,OAAD,CAAxB;EAEA5M,OAAO,CAAC6M,KAAR,GAAgBZ,yEAAA,CAAqB,sCAArB,CAAhB,CAJ0B,CAM1B;;EACA,OAAOjM,OAAP;AACD,CARD;;;;;;;;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AAEe,SAASkN,cAAT,GAA0B;EACvCJ,4DAAM,CAACC,kFAAD,EAAuB,QAAvB,EAAiC,UAAUI,MAAV,EAAkB;IAAA;;IACvD,kBAAI,KAAKC,IAAL,EAAJ,aAAI,WAAaC,QAAjB,YAAI,WAAaA,QAAb,EAAJ,EAA+B;MAC7BF,MAAM,CAACG,GAAP,CACE,gBADF,EAEE,EAAC,uEAAD;QACE,KAAK,EAAErB,wEAAA,0CAA4D,KAAKmB,IAAL,GAAYC,QAAZ,EAA5D,CADT;QAEE,IAAI,EAAC,qBAFP;QAGE,IAAI,EAAC;MAHP,EAFF;IAQD;EACF,CAXK,CAAN;EAaAP,4DAAM,CAACE,4EAAD,EAAiB,QAAjB,EAA2B,UAAUG,MAAV,EAAkB;IACjD,IAAI,KAAKE,QAAL,EAAJ,EAAqB;MACnBF,MAAM,CAACG,GAAP,CACE,gBADF,EAEE,EAAC,uEAAD;QAAO,KAAK,EAAErB,wEAAA,0CAA4D,KAAKoB,QAAL,EAA5D,CAAd;QAA8F,IAAI,EAAC,qBAAnG;QAAyH,IAAI,EAAC;MAA9H,EAFF;IAID;EACF,CAPK,CAAN;AAQD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASO,iBAAT,GAA6B;EAC1Cd,4DAAM,CAACS,wEAAD,EAAe,cAAf,EAA+B,UAAUM,KAAV,EAAiBT,IAAjB,EAAuB;IAC1D,IAAI,CAACnB,sEAAD,IAAqBA,sEAAA,KAAqBmB,IAA1C,IAAkD,CAACA,IAAI,CAACW,aAAL,EAAnD,IAA2E9B,uEAAA,CAAoB,qCAApB,CAA/E,EAA2I;MACzI;IACD;IAED;AACJ;AACA;AACA;AACA;;;IACI,SAASiC,oBAAT,CAA8Bd,IAA9B,EAAoC;MAClC,IAAI,EAAEA,IAAI,YAAYJ,kEAAlB,CAAJ,EAA6B;MAE7Bf,kEAAA,CAAewB,yFAAf,EAA0C;QAAEL,IAAI,EAAJA;MAAF,CAA1C;IACD;;IAEDS,KAAK,CAACP,GAAN,CACE,QADF,EAEE,EAAC,wEAAD;MAAQ,IAAI,EAAC,qBAAb;MAAmC,OAAO,EAAEY,oBAAoB,CAACG,IAArB,CAA0B,IAA1B,EAAgCjB,IAAhC;IAA5C,GACGnB,wEAAA,6CAA8DmB,IAAI,CAACC,QAAL,KAAkB,iBAAlB,GAAsC,eAApG,EADH,CAFF;EAMD,CAtBK,CAAN;EAwBAP,4DAAM,CAACY,mFAAD,EAAqB,MAArB,EAA6B,UAAUY,IAAV,EAAgB;IACjD,IAAMlB,IAAI,GAAG,KAAKmB,KAAL,CAAWnB,IAAxB;;IACA,IAAI,CAACnB,uEAAA,CAAoB,qCAApB,CAAD,IAA+D,CAACA,sEAAhE,IAAoFA,sEAAA,KAAqBmB,IAAzG,IAAiH,CAACA,IAAI,CAACW,aAAL,EAAtH,EAA4I;MAC1I;IACD;IAED;AACJ;AACA;AACA;AACA;;;IACI,SAASG,oBAAT,CAA8Bd,IAA9B,EAAoC;MAClC,IAAI,EAAEA,IAAI,YAAYJ,kEAAlB,CAAJ,EAA6B;MAE7Bf,kEAAA,CAAewB,yFAAf,EAA0C;QAAEL,IAAI,EAAJA;MAAF,CAA1C;IACD;;IAED,IAAMoB,YAAY,GAChB,EAAC,wEAAD;MAAQ,SAAS,EAAC,QAAlB;MAA2B,IAAI,EAAC,qBAAhC;MAAsD,OAAO,EAAEN,oBAAoB,CAACG,IAArB,CAA0B,IAA1B,EAAgCjB,IAAhC;IAA/D,GACGA,IAAI,CAACC,QAAL,KACGpB,wEAAA,0CAA4DmB,IAAI,CAACC,QAAL,EAA5D,CADH,GAEGpB,wEAAA,CAAqB,qDAArB,CAHN,CADF;IAQA0B,uEAAkB,CAACW,IAAD,EAAO,mBAAP,EAA4B,UAACG,IAAD,EAAU;MACtDA,IAAI,CAACC,QAAL,CAAcC,MAAd,CAAqB,CAArB,EAAwB,CAAxB,EAA2BH,YAA3B;IACD,CAFiB,CAAlB;EAGD,CA5BK,CAAN;AA6BD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DD;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,6BAAe,sCAAY;EACzB,IAAIvC,wEAAA,CAAqB,iBAArB,CAAJ,EAA6C;IAC3C;IACAO,wEAAA,GAAyCG,4EAAzC,CAF2C,CAG3C;;IACAH,wEAAA,CAAuC,uBAAvC;IAEAM,4DAAM,CAAC+B,0FAAD,EAAgC,eAAhC,EAAiD,UAAUG,MAAV,EAAkB;MACvE,IAAI,CAACxC,mEAAA,EAAD,IAAwC,CAACP,sEAA7C,EAA+D;;MAE/D,IAAI,CAAC,KAAKiD,UAAV,EAAsB;QACpB,KAAKA,UAAL,GAAkB1C,gFAAA,EAAlB;MACD;;MAED,IAAM0C,UAAU,GAAG,KAAKA,UAAxB;;MAEA,IAAIjD,mEAAA,CAAgB,WAAhB,MAAiC,WAAjC,IAAgDiD,UAAU,KAAK,OAAnE,EAA4E;QAC1EF,MAAM,CAACvL,MAAP,CAAc,iBAAd,IAAmC,IAAnC;QAEA,OAAOuL,MAAM,CAACvL,MAAP,CAAc4L,YAArB;MACD;IACF,CAdK,CAAN;EAeD;;EAED,IAAIpD,wEAAA,CAAqB,oBAArB,CAAJ,EAAgD;IAC9Ca,4DAAM,CAAC8B,4EAAD,EAA6C,YAA7C,EAA2D,UAAUf,KAAV,EAAiB;MAAA;;MAChFA,KAAK,CAACP,GAAN,CACE,cADF,EAEEsB,0EAAA,CACE;QACEa,SAAS,EAAE,mBADb;QAEEC,IAAI,EAAE,qBAFR;QAGEC,OAAO,EAAE,KAAKC,0BAAL,CAAgC,mBAAhC,MAAyD,iBAHpE;QAIEC,OAAO,EAAE,mBAAM;UACb,IAAMC,EAAE,GAAG,mBAAX;;UACA,IAAI,KAAI,CAACF,0BAAL,CAAgCE,EAAhC,MAAwC,iBAA5C,EAA+D;YAC7D,KAAI,CAACF,0BAAL,CAAgCE,EAAhC,IAAsC,EAAtC;UACD,CAFD,MAEO;YACL,KAAI,CAACF,0BAAL,CAAgCE,EAAhC,IAAsC,iBAAtC;UACD;;UAED,KAAI,CAACC,YAAL,CAAkB,KAAI,CAACf,MAAL,GAAcgB,IAAhC;QACD;MAbH,CADF,EAgBE/D,wEAAA,CAAqB,0CAArB,CAhBF,CAFF,EAoBE,EApBF;MAuBA4B,KAAK,CAACP,GAAN,CAAU,WAAV,EAAuB,EAAC,2EAAD,OAAvB,EAAsC,EAAtC;IACD,CAzBK,CAAN;EA0BD;AACF;;;;;;;;;;;;;;;;;;;;;;;AC5DD;AACA;AACA;AACA;AAEA,6BAAe,sCAAY;EACzBR,4DAAM,CAACmD,uFAAD,EAAyB,cAAzB,EAAyC,UAAUpC,KAAV,EAAiB;IAAA;;IAC9DA,KAAK,CAACP,GAAN,CACE,oBADF,EAEE,EAAC,wEAAD;MACE,KAAK,EAAE,KAAKF,IAAL,CAAU+C,WAAV,GAAwBC,YADjC;MAEE,QAAQ,EAAE,kBAACpT,KAAD,EAAW;QACnB,KAAI,CAACqT,mBAAL,GAA2B,IAA3B;;QAEA,KAAI,CAACjD,IAAL,CAAUkD,eAAV,CAA0B;UAAEF,YAAY,EAAEpT;QAAhB,CAA1B,EAAmDoL,IAAnD,CAAwD,YAAM;UAC5D,KAAI,CAACiI,mBAAL,GAA2B,KAA3B;UACApU,CAAC,CAACsU,MAAF;QACD,CAHD;MAID,CATH;MAUE,OAAO,EAAE,KAAKF;IAVhB,GAYGpE,wEAAA,CAAqB,+CAArB,CAZH,CAFF;EAiBD,CAlBK,CAAN;AAmBD;;;;;;;;;;;;;;;;;;;;;;;ACzBD;AACA;AACA;AACA;AAEA,6BAAe,sCAAY;EACzBa,4DAAM,CAAC2D,mFAAD,EAAqB,UAArB,EAAiC,UAAU5C,KAAV,EAAiB;IACtD,IAAI5B,sEAAA,IAAoBA,sEAAA,KAAqB,KAAKmB,IAAlD,EAAwD;MACtD,IAAMsD,kBAAkB,GAAG,KAAKtD,IAAL,CAAUuD,cAAV,EAA3B;MAEA9C,KAAK,CAACP,GAAN,CACE,gBADF,EAEE,EAAC,4EAAD;QAAY,IAAI,EAAErB,6DAAA,CAAU,eAAV,CAAlB;QAA8C,IAAI,EAAC;MAAnD,GACGA,wEAAA,CAAqB,sCAArB,CADH,EAEE;QAAM,SAAS,EAAC;MAAhB,GAAgCyE,kBAAhC,CAFF,CAFF;IAOD;EACF,CAZK,CAAN;AAaD;;;;;;;;;;;;;;;;;;;;;;;ACnBD;AACA;AAEA;AACA;AAGe,SAASG,gBAAT,GAA4B;EACzC/D,4DAAM,CAACY,mFAAD,EAAqB,WAArB,EAAkC,UAAUG,KAAV,EAA6C;IACnF,IAAI,CAAC,KAAKU,KAAL,CAAWnB,IAAZ,IAAoB,CAACnB,uEAAA,CAAoB,oCAApB,CAAzB,EAAoF;IAEpF,IAAMmB,IAAI,GAAG,KAAKmB,KAAL,CAAWnB,IAAxB;IACA,IAAMsD,kBAAkB,GAAGtD,IAAI,CAACuD,cAAL,EAA3B;IACA,IAAMG,mBAAmB,GAAG1D,IAAI,CAAC2D,aAAL,EAA5B;IAEAlD,KAAK,CAACP,GAAN,CACE,WADF,EAEE;MAAK,SAAS,EAAC;IAAf,GACE,gBACGoC,iEAAI,CAAC,qBAAD,CADP,EAEE;MAAM,SAAS,EAAC;IAAhB,GAAgCgB,kBAAhC,CAFF,OAE8DzE,wEAAA,CAAqB,kCAArB,CAF9D,EAGE;MAAM,SAAS,EAAC;IAAhB,GAAgC6E,mBAAhC,CAHF,OAG+D7E,wEAAA,CAAqB,mCAArB,CAH/D,CADF,CAFF,EASE,EATF;EAWD,CAlBK,CAAN;AAmBD;;;;;;;;;;;;;;;;;;;;;AC3BD;AACA;;IAEqBgF;;;;;;;;;SACnB3C,OAAA,gBAAO;IACL,IAAQlB,IAAR,GAAiB,KAAKmB,KAAtB,CAAQnB,IAAR;IAEA,OACE;MAAK,SAAS,EAAC;IAAf,GACE,EAAC,yEAAD;MAAU,IAAI,EAAEA,IAAhB;MAAsB,SAAS,EAAC,uBAAhC;MAAwD,uBAAuB,EAAC;IAAhF,EADF,CADF;EAKD;;;EAT+C4D;;;;;;;;;;;;;;;;;;;;;;;ACHlD;AACA;;IAEqBG;;;;;;;;;SACnBzB,OAAA,gBAAO;IACL,OAAO,qBAAP;EACD;;SAED0B,OAAA,gBAAO;IACL,IAAMC,YAAY,GAAG,KAAK9C,KAAL,CAAW8C,YAAhC;IACA,IAAMC,UAAU,GAAGD,YAAY,CAACE,OAAb,EAAnB;IAEA,OAAOtF,wEAAA,CAAqBqF,UAArB,CAAP;EACD;;SAEDE,UAAA,mBAAU;IACR,OAAOvF,wEAAA,CAAqB,2DAArB,EAAkF;MACvFmB,IAAI,EAAE,KAAKmB,KAAL,CAAW8C,YAAX,CAAwBI,QAAxB,EADiF;MAEvFC,KAAK,EAAE,KAAKnD,KAAL,CAAW8C,YAAX,CAAwBE,OAAxB,GAAkCG,KAAlC;IAFgF,CAAlF,CAAP;EAID;;SAEDC,UAAA,mBAAU;IACR,OAAO,IAAP;EACD;;;EArBoDT;;;;;;;;;;;;;;;;;;;;;;;ACHvD;AACA;;IAEqBU;;;;;;;;;SACnBlC,OAAA,gBAAO;IACL,OAAO,kBAAP;EACD;;SAED0B,OAAA,gBAAO;IACL,IAAMC,YAAY,GAAG,KAAK9C,KAAL,CAAW8C,YAAhC;IACA,IAAMjE,IAAI,GAAGiE,YAAY,CAACE,OAAb,EAAb;IAEA,OAAOtF,kEAAA,CAAemB,IAAf,CAAP;EACD;;SAEDoE,UAAA,mBAAU;IACR,OAAOvF,wEAAA,CAAqB,yDAArB,EAAgF;MACrFmB,IAAI,EAAE,KAAKmB,KAAL,CAAW8C,YAAX,CAAwBI,QAAxB;IAD+E,CAAhF,CAAP;EAGD;;SAEDE,UAAA,mBAAU;IACR,OAAO,IAAP;EACD;;;EApBkDT;;;;;;;;;;;;;;;;;;;;;;;ACHrD;AACA;;IAEqBW;;;;;;;;;SACnBnC,OAAA,gBAAO;IACL,OAAO,qBAAP;EACD;;SAED0B,OAAA,gBAAO;IACL,IAAMC,YAAY,GAAG,KAAK9C,KAAL,CAAW8C,YAAhC;IACA,IAAMC,UAAU,GAAGD,YAAY,CAACE,OAAb,EAAnB;IACA,IAAMC,OAAO,GAAGH,YAAY,CAACG,OAAb,MAA0B,EAA1C;IAEA,OAAOvF,wEAAA,CAAqBqF,UAArB,EAAiCE,OAAO,CAACM,UAAzC,CAAP;EACD;;SAEDN,UAAA,mBAAU;IACR,OAAOvF,wEAAA,CAAqB,qDAArB,EAA4E;MACjFmB,IAAI,EAAE,KAAKmB,KAAL,CAAW8C,YAAX,CAAwBI,QAAxB;IAD2E,CAA5E,CAAP;EAGD;;SAEDE,UAAA,mBAAU;IACR,OAAO,IAAP;EACD;;;EArB8CT;;;;;;;;;;;;;;;;;;;;;;;ACHjD;AACA;;IAEqBa;;;;;;;;;SACnBrC,OAAA,gBAAO;IACL,OAAO,mBAAP;EACD;;SAED0B,OAAA,gBAAO;IACL,IAAMC,YAAY,GAAG,KAAK9C,KAAL,CAAW8C,YAAhC;IACA,IAAMjE,IAAI,GAAGiE,YAAY,CAACE,OAAb,EAAb;IAEA,OAAOtF,kEAAA,CAAemB,IAAf,CAAP;EACD;;SAEDoE,UAAA,mBAAU;IACR,OAAOvF,wEAAA,CAAqB,2DAArB,EAAkF;MACvFmB,IAAI,EAAE,KAAKmB,KAAL,CAAW8C,YAAX,CAAwBI,QAAxB;IADiF,CAAlF,CAAP;EAGD;;SAEDE,UAAA,mBAAU;IACR,OAAO,IAAP;EACD;;;EApBoDT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHvD;AACA;AACA;AACA;AACA;AACA;;IAEqBgB;;;;;;;;;SACnBC,SAAA,gBAAOC,KAAP,EAAc;IACZ,oBAAMD,MAAN,YAAaC,KAAb;;IAEA,KAAKC,OAAL;EACD;;SAEDA,UAAA,mBAAU;IACR,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKC,aAAL,GAAqBtG,kFAAA,EAArB;IACA,KAAKuG,QAAL,CAAcvG,6EAAA,EAAd;IAEA,KAAKqG,OAAL,GAAe,KAAf;IACArW,CAAC,CAACsU,MAAF;EACD;;SAEDmC,0BAAA,iCAAwBtF,IAAxB,EAA8B;IAC5BnB,kEAAA,CAAewB,8EAAf,EAA0C;MAAEL,IAAI,EAAJA;IAAF,CAA1C;EACD;;SAEDoE,UAAA,mBAAU;IACR,IAAI,KAAKc,OAAT,EAAkB;MAChB,OACE;QAAK,SAAS,EAAC;MAAf,GACE,EAAC,kFAAD,OADF,CADF;IAKD;;IAED,IAAI,KAAKC,aAAL,CAAmB7U,MAAnB,KAA8B,CAAlC,EAAqC;MACnC,OACE;QAAK,SAAS,EAAC;MAAf,GACE,EAAC,6EAAD;QAAa,IAAI,EAAEuO,wEAAA,CAAqB,mDAArB;MAAnB,EADF,CADF;IAKD;;IAED,OACE;MAAK,SAAS,EAAC;IAAf,GACE;MAAI,SAAS,EAAC;IAAd,GACG,KAAKsG,aAAL,CAAmB3T,GAAnB,CAAuB,UAACwO,IAAD,EAAU;MAChC,OACE;QAAI,GAAG,EAAEA,IAAI,CAAC0C,EAAL,EAAT;QAAoB,WAAS1C,IAAI,CAAC0C,EAAL;MAA7B,GACE,EAAC,6DAAD;QAAsB,IAAI,EAAE1C;MAA5B,EADF,CADF;IAKD,CANA,CADH,CADF,CADF;EAaD;;SAEDgB,OAAA,gBAAO;IACL,KAAKhB,IAAL,GAAYnB,sEAAZ;IAEAhQ,CAAC,CAACsU,MAAF;EACD;;;EAxDsCE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPzC;AACA;AACA;AACA;AACA;AACA;AAEO,IAAMhD,yBAAb;EAAA;;EAAA;IAAA;;IAAA;MAAA;IAAA;;IAAA;IAAA,MACE1E,KADF,GACU;MACN;AACJ;AACA;AACA;AACA;MACIqE,IAAI,EAAE,IANA;;MAQN;AACJ;AACA;AACA;AACA;MACIyF,MAAM,EAAE,KAbF;;MAeN;AACJ;AACA;AACA;AACA;AACA;MACIC,WAAW,EAAE1W;IArBP,CADV;;IAAA,MAiCEqT,SAjCF,GAiCc;MAAA,OAAM,yCAAN;IAAA,CAjCd;;IAAA;EAAA;;EAAA;;EAAA,OAyBE0C,MAzBF,GAyBE,gBAAOC,KAAP,EAAc;IACZ,iBAAMD,MAAN,YAAaC,KAAb;;IAEA,KAAKrJ,KAAL,CAAWqE,IAAX,GAAkB,KAAKmB,KAAL,CAAWnB,IAA7B;IAEA,KAAKrE,KAAL,CAAW+J,WAAX,GAAyB,KAAK/J,KAAL,CAAWqE,IAAX,CAAgBC,QAAhB,MAA8B,UAAvD;EACD,CA/BH;;EAAA,OAmCEqE,KAnCF,GAmCE,iBAAQ;IAAA;;IACN,OAAO,KAAKxF,KAAL,CAAW,OAAX,EAAoB;MAAEuG,QAAQ,EAAE,kCAAK,KAAK1J,KAAL,CAAWqE,IAAhB,qBAAK,iBAAiBqF,QAAtB,oBAAK,iBAAiBA,QAAjB,EAAL;IAAZ,CAApB,CAAP;EACD,CArCH;;EAAA,OAuCEjB,OAvCF,GAuCE,mBAAU;IAAA;;IACR;IACA,IAAI,EAAE,KAAKzI,KAAL,CAAWqE,IAAX,YAA2BJ,kEAA7B,CAAJ,EAAwC;MACtC;MACA,OACE;QAAK,SAAM;MAAX,GACE,aAAI,KAAKd,KAAL,gCAAuCD,uEAAA,CAAoB,OAApB,IAA+B,QAA/B,GAA0C,EAAjF,EAAJ,CADF,CADF;IAKD;;IAED,IAAMmB,IAAI,GAAG,KAAKrE,KAAL,CAAWqE,IAAxB;IAEA,IAAM2F,qBAAqB,GAAG1G,qEAAA,CAAoB,UAAC4G,GAAD,EAAMC,IAAN;MAAA;;MAAA,0FAAqBD,GAArB,6BAA2BC,IAAI,CAAClW,KAAhC,IAAwCkW,IAAI,CAACrS,IAAL,EAAxC;IAAA,CAApB,EAA4E,EAA5E,CAA9B;IACA,IAAMsS,aAAa,GAAG9G,mEAAA,CAAkB,UAACzO,CAAD;MAAA,OAAOA,CAAC,CAACZ,KAAF,KAAY,MAAI,CAAC+L,KAAL,CAAW+J,WAA9B;IAAA,CAAlB,CAAtB;IAEA,OACE;MAAK,SAAM;IAAX,GACE,oBACE,kBAAS,KAAK5G,KAAL,CAAW,aAAX,EAA0B;MAAEkB,IAAI,EAAJA;IAAF,CAA1B,CAAT,CADF,EAGE;MAAK,SAAM;IAAX,GACE;MAAO,OAAI;IAAX,GAA4C,KAAKlB,KAAL,CAAW,qBAAX,CAA5C,CADF,EAGE,EAAC,wEAAD;MACE,QAAQ,EAAE,KAAKnD,KAAL,CAAW8J,MADvB;MAEE,EAAE,EAAC,+BAFL;MAGE,QAAQ,EAAE,KAAKQ,mBAAL,CAAyBhF,IAAzB,CAA8B,IAA9B,CAHZ,CAIE;MAJF;MAKE,KAAK,EAAE8E,aAAa,CAACnW,KALvB;MAME,iDAA6CmW,aAAa,CAACnW,KAA3D,UANF;MAOE,OAAO,EAAE+V;IAPX,EAHF,EAcE;MAAG,EAAE,8BAA4BI,aAAa,CAACnW,KAA1C;IAAL,GAA8DmW,aAAa,CAAC5G,WAAd,CAA0B;MAAEa,IAAI,EAAJA;IAAF,CAA1B,CAA9D,CAdF,CAHF,CADF,EAqBE;MAAU,SAAM;IAAhB,GACE,EAAC,wEAAD;MAAQ,QAAQ,EAAE,KAAKrE,KAAL,CAAW8J,MAA7B;MAAqC,SAAM,QAA3C;MAAoD,OAAO,EAAE,KAAKS,IAAL,CAAUjF,IAAV,CAAe,IAAf;IAA7D,GACG,KAAKnC,KAAL,CAAW,YAAX,CADH,CADF,EAIE,EAAC,wEAAD;MAAQ,QAAQ,EAAE,KAAKnD,KAAL,CAAW8J,MAA7B;MAAqC,SAAM,wBAA3C;MAAoE,OAAO,EAAE,KAAKU,eAAL,CAAqBlF,IAArB,CAA0B,IAA1B,CAA7E;MAA8G,OAAO,EAAE,KAAKtF,KAAL,CAAW8J;IAAlI,GACG,KAAK3G,KAAL,CAAW,UAAX,CADH,CAJF,CArBF,CADF;EAgCD;EAED;AACF;AACA;EA3FA;;EAAA,OA4FEmH,mBA5FF,GA4FE,+BAAsB;IACpB;AACJ;AACA;IACI,IAAMG,aAAa,GAAG,KAAKC,CAAL,CAAO,eAAP,EAAwB,CAAxB,CAAtB;IAEA,KAAK1K,KAAL,CAAW+J,WAAX,GAAyBU,aAAa,CAACxW,KAAd,IAAuB,UAAhD;EACD;EAED;AACF;AACA;EAvGA;;EAAA,OAwGEkP,KAxGF,GAwGE,eAAMlH,GAAN,EAAoB;IAAA;;IAAA,mCAANmH,IAAM;MAANA,IAAM;IAAA;;IAClB,OAAO,mBAAAF,oEAAA,EAAeC,KAAf,iFAA2ElH,GAA3E,SAAqFmH,IAArF,EAAP;EACD,CA1GH;;EAAA,OA4GEuH,QA5GF,GA4GE,oBAAW;IACT,KAAKH,eAAL;EACD;EAED;AACF;AACA;EAlHA;;EAAA,OAmHQA,eAnHR;EAAA;EAAA;IAAA,oMAmHE;MAAA;MAAA;QAAA;UAAA;YAAA;cACQI,cADR,GACyB,KAAK5K,KAAL,CAAW+J,WAAX,KAA2B,UAA3B,GAAwC,IAAxC,GAA+C,KAAK/J,KAAL,CAAW+J,WADnF;cAGE,KAAK/J,KAAL,CAAW8J,MAAX,GAAoB,IAApB,CAHF,CAKE;;cALF,MAMM,KAAK9J,KAAL,CAAWqE,IAAX,CAAgBa,SAAhB,CAA0B,WAA1B,MAA2C0F,cANjD;gBAAA;gBAAA;cAAA;;cAOI,KAAKL,IAAL;cAPJ;;YAAA;cAAA;cAAA,OAWkB,KAAKvK,KAAL,CAAWqE,IAAX,CAAgBwG,IAAhB,CAAqB;gBAAEC,WAAW,EAAEF;cAAf,CAArB,CAXlB;;YAAA;cAWQG,CAXR;cAaE,KAAKR,IAAL;;YAbF;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAnHF;;IAAA;MAAA;IAAA;;IAAA;EAAA;;EAAA;AAAA,EAA+CX,uEAA/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA1G,wEAAA,CACE,mBADF,EAEE,YAAM;EACJe,qFAAA,GAA0BgH,oEAAA,CAAgB,UAAhB,CAA1B;EACAhH,0FAAA,GAA+BgH,kEAAA,CAAc,eAAd,CAA/B;EACAhH,uFAAA,GAA4BgH,kEAAA,CAAc,YAAd,CAA5B;EACAhH,yFAAA,GAA8BgH,oEAAA,CAAgB,cAAhB,CAA9B;EACAhH,0FAAA,GAA+BgH,oEAAA,CAAgB,eAAhB,CAA/B;EACAhH,2FAAA,GAAgCgH,oEAAA,CAAgB,gBAAhB,CAAhC;EACAhH,0FAAA,GAA+BgH,oEAAA,CAAgB,eAAhB,CAA/B;EAEA/H,8EAAA,GAA2B;IAAEsI,IAAI,EAAE,gBAAR;IAA0B/E,SAAS,EAAE0C,+DAAWA;EAAhD,CAA3B;EAEAtE,8DAAiB;EACjBqG,2DAAc;EACd/G,4DAAc;EACdgH,+DAAiB;EACjBC,+DAAiB;EACjBtD,8DAAgB;EAEhB5E,4FAAA,GAAyC2F,4EAAzC;EACA3F,8FAAA,GAA2C8F,8EAA3C;EACA9F,oGAAA,GAAiDkF,6EAAjD;EACAlF,8FAAA,GAA2C4F,uEAA3C;EAEA/E,4DAAM,CAACiH,2FAAD,EAA6B,mBAA7B,EAAkD,UAAUlG,KAAV,EAAiB;IACvEA,KAAK,CAACP,GAAN,CAAU,aAAV,EAAyB;MACvBzM,IAAI,EAAE,aADiB;MAEvB6O,IAAI,EAAE,kBAFiB;MAGvBmF,KAAK,EAAE5I,wEAAA,CAAqB,4DAArB;IAHgB,CAAzB;IAKA4B,KAAK,CAACP,GAAN,CAAU,eAAV,EAA2B;MACzBzM,IAAI,EAAE,eADmB;MAEzB6O,IAAI,EAAE,mBAFmB;MAGzBmF,KAAK,EAAE5I,wEAAA,CAAqB,8DAArB;IAHkB,CAA3B;IAKA4B,KAAK,CAACP,GAAN,CAAU,qBAAV,EAAiC;MAC/BzM,IAAI,EAAE,qBADyB;MAE/B6O,IAAI,EAAE,qBAFyB;MAG/BmF,KAAK,EAAE5I,wEAAA,CAAqB,8DAArB;IAHwB,CAAjC;IAKA4B,KAAK,CAACP,GAAN,CAAU,eAAV,EAA2B;MACzBzM,IAAI,EAAE,eADmB;MAEzB6O,IAAI,EAAE,qBAFmB;MAGzBmF,KAAK,EAAE5I,wEAAA,CAAqB,wDAArB;IAHkB,CAA3B;EAKD,CArBK,CAAN;AAsBD,CA/CH,EAgDE,CAAC,CAhDH;;;;;;;;;;;;;;;;;;AClBA;AAOO,SAAS8I,2BAAT,CAAqCtG,IAArC,EAAyD3P,QAAzD,EAAoF;EACzF,IAAMkW,IAAI,GAAGrH,kBAAkB,CAACc,IAAD,EAAO3P,QAAP,CAA/B;EAEA,IAAIkW,IAAI,KAAK5Y,SAAb,EAAwB,OAAO,KAAP,CAHiE,CAKzF;;EACA4Y,IAAI,CAACC,GAAL,GAAW,GAAX;EACAD,IAAI,CAACzG,KAAL,GAAa;IAAE2G,mBAAmB,EAAE;EAAvB,CAAb;EACAF,IAAI,CAACtG,QAAL,GAAgB,EAAhB;EAEA,OAAO,IAAP;AACD;AAEM,SAASf,kBAAT,CACLc,IADK,EAEL3P,QAFK,EAGLqW,gBAHK,EAI+C;EACpD,IAAMC,cAAc,GAAGN,+CAAO,CAAChW,QAAD,CAA9B;EAEA,OAAOuW,cAAc,CAAC5G,IAAD,EAAO2G,cAAP,EAAuBD,gBAAvB,CAArB;AACD;;AAED,SAASE,cAAT,CACE5G,IADF,EAEE6G,SAFF,EAGEH,gBAHF,EAIsD;EACpD,IAAII,KAAJ;;EAEA,IAAI,CAACzX,KAAK,CAAC0X,OAAN,CAAc/G,IAAd,CAAL,EAA0B;IACxB8G,KAAK,GAAG,CAAC9G,IAAD,CAAR;EACD,CAFD,MAEO;IACL8G,KAAK,GAAG9G,IAAR;EACD;;EAED,IAAIgH,KAA6D,GAAGrZ,SAApE;EAEAmZ,KAAK,CAACG,IAAN,CAAW,UAACV,IAAD,EAAmB;IAC5B,IAAI,OAAOA,IAAP,KAAgB,SAAhB,IAA6B,OAAOA,IAAP,KAAgB,QAA7C,IAAyD,OAAOA,IAAP,KAAgB,QAAzE,IAAqFA,IAAI,KAAK,IAA9F,IAAsGA,IAAI,KAAK5Y,SAAnH,EAA8H,OAAO,KAAP;;IAE9H,IAAI0B,KAAK,CAAC0X,OAAN,CAAcR,IAAd,CAAJ,EAAyB;MACvB,IAAI7M,MAAM,GAAGkN,cAAc,CAACL,IAAD,EAAOM,SAAP,EAAkBH,gBAAlB,CAA3B;;MAEA,IAAIhN,MAAJ,EAAY;QACVsN,KAAK,GAAGtN,MAAR;QACA,OAAO,IAAP;MACD;;MAED,OAAO,KAAP;IACD;;IAED,IAAIwN,uBAAuB,CAACX,IAAD,EAAOM,SAAP,CAA3B,EAA8C;MAC5CG,KAAK,GAAGT,IAAR;MACA,OAAO,IAAP;IACD;;IAED,IAAIlX,KAAK,CAAC0X,OAAN,CAAcR,IAAI,CAACtG,QAAnB,CAAJ,EAAkC;MAChC,IAAIvG,OAAM,GAAGkN,cAAc,CAACL,IAAI,CAACtG,QAAN,EAAgB4G,SAAhB,CAA3B;;MAEA,IAAInN,OAAJ,EAAY;QACVsN,KAAK,GAAGtN,OAAR;QACA,OAAO,IAAP;MACD;;MAED,OAAO,KAAP;IACD;;IAED,OAAO,KAAP;EACD,CA/BD;EAiCA,IAAIgN,gBAAgB,IAAIM,KAAxB,EAA+BN,gBAAgB,CAACM,KAAD,CAAhB;EAE/B,OAAOA,KAAP;AACD;;AAED,SAASE,uBAAT,CAAiCC,KAAjC,EAA4EN,SAA5E,EAA8G;EAC5G,OAAOA,SAAS,CAACI,IAAV,CAAe,UAAC5W,QAAD,EAAc;IAClC,OAAOA,QAAQ,CAAC+W,KAAT,CAAe,UAACC,SAAD,EAAwB;MAAA;;MAC5C,QAAQA,SAAS,CAAC9W,IAAlB;QACE,KAAK,KAAL;UACE,OAAO4W,KAAK,CAACX,GAAN,KAAca,SAAS,CAACjV,IAA/B;;QAEF,KAAK,WAAL;UACE,IAAI,CAAC+U,KAAK,CAACrH,KAAX,EAAkB,OAAO,KAAP;UAElB,IAAIuH,SAAS,CAACjV,IAAV,KAAmB,OAAvB,EAAgCiV,SAAS,CAACjV,IAAV,GAAiB,WAAjB;UAEhC,IAAIkV,IAAI,GAAGH,KAAK,CAACrH,KAAN,CAAYuH,SAAS,CAACjV,IAAtB,CAAX;;UAEA,IAAIiV,SAAS,CAACjV,IAAV,KAAmB,WAAnB,IAAkC,OAAOkV,IAAP,KAAgB,QAAtD,EAAgE;YAC9DA,IAAI,GAAGA,IAAI,CAACC,IAAL,EAAP;UACD;;UAED,IAAIF,SAAS,CAAClU,UAAV,IAAwB,OAAOmU,IAAP,KAAgB,QAA5C,EAAsD;YACpDA,IAAI,GAAGA,IAAI,CAAC/T,WAAL,EAAP;YACA8T,SAAS,CAAC9Y,KAAV,GAAkB8Y,SAAS,CAAC9Y,KAAV,CAAgBgF,WAAhB,EAAlB;UACD;;UAED,QAAQ8T,SAAS,CAACpU,MAAlB;YACE,KAAK,QAAL;cACE,OAAOkU,KAAK,CAACrH,KAAN,CAAY5R,cAAZ,CAA2BmZ,SAAS,CAACjV,IAArC,CAAP;;YACF,KAAK,QAAL;cACE,OAAOkV,IAAI,KAAKD,SAAS,CAAC9Y,KAA1B;;YACF,KAAK,OAAL;cACE,OAAO,UAAA+Y,IAAI,SAAJ,kBAAMzU,UAAN,0BAAMA,UAAN,CAAmBwU,SAAS,CAAC9Y,KAA7B,MAAuC,KAA9C;;YACF,KAAK,KAAL;cACE,OAAO,WAAA+Y,IAAI,SAAJ,mBAAME,QAAN,2BAAMA,QAAN,CAAiBH,SAAS,CAAC9Y,KAA3B,MAAqC,KAA5C;;YACF,KAAK,SAAL;cACE,OAAO,WAAC+Y,IAAD,4BAAkB7R,KAAlB,2CAAkBA,KAAlB,CAA0B,GAA1B,mCAAgCgS,QAAhC,iCAAgCA,QAAhC,CAA2CJ,SAAS,CAAC9Y,KAArD,MAA+D,KAAtE;UAVJ;;MApBJ;;MAkCA,OAAO,KAAP;IACD,CApCM,CAAP;EAqCD,CAtCM,CAAP;AAuCD;;;;;;;;;;;AC3HD;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA,SAASmZ,kBAAT,CAA4BC,GAA5B,EAAiCpO,OAAjC,EAA0CC,MAA1C,EAAkDoO,KAAlD,EAAyDC,MAAzD,EAAiEtR,GAAjE,EAAsEkB,GAAtE,EAA2E;EACzE,IAAI;IACF,IAAIuD,IAAI,GAAG2M,GAAG,CAACpR,GAAD,CAAH,CAASkB,GAAT,CAAX;IACA,IAAIlJ,KAAK,GAAGyM,IAAI,CAACzM,KAAjB;EACD,CAHD,CAGE,OAAOsL,KAAP,EAAc;IACdL,MAAM,CAACK,KAAD,CAAN;IACA;EACD;;EAED,IAAImB,IAAI,CAACX,IAAT,EAAe;IACbd,OAAO,CAAChL,KAAD,CAAP;EACD,CAFD,MAEO;IACL2L,OAAO,CAACX,OAAR,CAAgBhL,KAAhB,EAAuBoL,IAAvB,CAA4BiO,KAA5B,EAAmCC,MAAnC;EACD;AACF;;AAEc,SAASC,iBAAT,CAA2BtQ,EAA3B,EAA+B;EAC5C,OAAO,YAAY;IACjB,IAAIV,IAAI,GAAG,IAAX;IAAA,IACIiR,IAAI,GAAG/Y,SADX;IAEA,OAAO,IAAIkL,OAAJ,CAAY,UAAUX,OAAV,EAAmBC,MAAnB,EAA2B;MAC5C,IAAImO,GAAG,GAAGnQ,EAAE,CAACwQ,KAAH,CAASlR,IAAT,EAAeiR,IAAf,CAAV;;MAEA,SAASH,KAAT,CAAerZ,KAAf,EAAsB;QACpBmZ,kBAAkB,CAACC,GAAD,EAAMpO,OAAN,EAAeC,MAAf,EAAuBoO,KAAvB,EAA8BC,MAA9B,EAAsC,MAAtC,EAA8CtZ,KAA9C,CAAlB;MACD;;MAED,SAASsZ,MAAT,CAAgBnR,GAAhB,EAAqB;QACnBgR,kBAAkB,CAACC,GAAD,EAAMpO,OAAN,EAAeC,MAAf,EAAuBoO,KAAvB,EAA8BC,MAA9B,EAAsC,OAAtC,EAA+CnR,GAA/C,CAAlB;MACD;;MAEDkR,KAAK,CAACja,SAAD,CAAL;IACD,CAZM,CAAP;EAaD,CAhBD;AAiBD;;;;;;;;;;;;;;;AClCc,SAASsa,QAAT,GAAoB;EACjCA,QAAQ,GAAG5a,MAAM,CAAC6a,MAAP,IAAiB,UAAUC,MAAV,EAAkB;IAC5C,KAAK,IAAIjZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,SAAS,CAACC,MAA9B,EAAsCC,CAAC,EAAvC,EAA2C;MACzC,IAAIkZ,MAAM,GAAGpZ,SAAS,CAACE,CAAD,CAAtB;;MAEA,KAAK,IAAIqH,GAAT,IAAgB6R,MAAhB,EAAwB;QACtB,IAAI/a,MAAM,CAACY,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCia,MAArC,EAA6C7R,GAA7C,CAAJ,EAAuD;UACrD4R,MAAM,CAAC5R,GAAD,CAAN,GAAc6R,MAAM,CAAC7R,GAAD,CAApB;QACD;MACF;IACF;;IAED,OAAO4R,MAAP;EACD,CAZD;;EAcA,OAAOF,QAAQ,CAACD,KAAT,CAAe,IAAf,EAAqBhZ,SAArB,CAAP;AACD;;;;;;;;;;;;;;;;AChBD;AACe,SAASqZ,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;EAC3DD,QAAQ,CAACra,SAAT,GAAqBZ,MAAM,CAACC,MAAP,CAAcib,UAAU,CAACta,SAAzB,CAArB;EACAqa,QAAQ,CAACra,SAAT,CAAmBsK,WAAnB,GAAiC+P,QAAjC;EACAtP,8DAAc,CAACsP,QAAD,EAAWC,UAAX,CAAd;AACD;;;;;;;;;;;;;;;ACLc,SAASC,eAAT,CAAyBjb,CAAzB,EAA4BS,CAA5B,EAA+B;EAC5Cwa,eAAe,GAAGnb,MAAM,CAAC2L,cAAP,IAAyB,SAASwP,eAAT,CAAyBjb,CAAzB,EAA4BS,CAA5B,EAA+B;IACxET,CAAC,CAAC0L,SAAF,GAAcjL,CAAd;IACA,OAAOT,CAAP;EACD,CAHD;;EAKA,OAAOib,eAAe,CAACjb,CAAD,EAAIS,CAAJ,CAAtB;AACD;;;;;;UCPD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D","sources":["webpack://@ianm/follow-users/./node_modules/@babel/runtime/regenerator/index.js","webpack://@ianm/follow-users/./node_modules/css-what/lib/index.js","webpack://@ianm/follow-users/./node_modules/css-what/lib/parse.js","webpack://@ianm/follow-users/./node_modules/css-what/lib/stringify.js","webpack://@ianm/follow-users/./node_modules/regenerator-runtime/runtime.js","webpack://@ianm/follow-users/./src/common/FollowLevels.js","webpack://@ianm/follow-users/./src/common/helpers/followingPageOptions.js","webpack://@ianm/follow-users/./src/forum/addFollowBadge.js","webpack://@ianm/follow-users/./src/forum/addFollowControls.js","webpack://@ianm/follow-users/./src/forum/addFollowingUsers.js","webpack://@ianm/follow-users/./src/forum/addPrivacySetting.js","webpack://@ianm/follow-users/./src/forum/addProfilePage.js","webpack://@ianm/follow-users/./src/forum/addUserCardStats.tsx","webpack://@ianm/follow-users/./src/forum/components/FollowedUserListItem.js","webpack://@ianm/follow-users/./src/forum/components/NewDiscussionNotification.js","webpack://@ianm/follow-users/./src/forum/components/NewFollowerNotification.js","webpack://@ianm/follow-users/./src/forum/components/NewPostNotification.js","webpack://@ianm/follow-users/./src/forum/components/NewUnfollowerNotification.js","webpack://@ianm/follow-users/./src/forum/components/ProfilePage.js","webpack://@ianm/follow-users/./src/forum/components/SelectFollowLevelModal.js","webpack://@ianm/follow-users/./src/forum/index.js","webpack://@ianm/follow-users/./src/forum/util/findVdomChild.ts","webpack://@ianm/follow-users/external assign \"flarum.extensions['fof-follow-tags']\"","webpack://@ianm/follow-users/external assign \"flarum.extensions['fof-user-directory']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/Component']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/Model']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/app']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Button']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Notification']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Select']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Separator']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/extend']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['common/models/User']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/app']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/components/NotificationGrid']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/states/DiscussionListState']\"","webpack://@ianm/follow-users/external root \"flarum.core.compat['forum/utils/UserControls']\"","webpack://@ianm/follow-users/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@ianm/follow-users/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@ianm/follow-users/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ianm/follow-users/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ianm/follow-users/webpack/bootstrap","webpack://@ianm/follow-users/webpack/runtime/compat get default export","webpack://@ianm/follow-users/webpack/runtime/define property getters","webpack://@ianm/follow-users/webpack/runtime/hasOwnProperty shorthand","webpack://@ianm/follow-users/webpack/runtime/make namespace object"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.parse = void 0;\n__exportStar(require(\"./parse\"), exports);\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return __importDefault(parse_1).default; } });\nvar stringify_1 = require(\"./stringify\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return __importDefault(stringify_1).default; } });\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTraversal = void 0;\nvar reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nvar reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\nvar actionTypes = new Map([\n    [\"~\", \"element\"],\n    [\"^\", \"start\"],\n    [\"$\", \"end\"],\n    [\"*\", \"any\"],\n    [\"!\", \"not\"],\n    [\"|\", \"hyphen\"],\n]);\nvar Traversals = {\n    \">\": \"child\",\n    \"<\": \"parent\",\n    \"~\": \"sibling\",\n    \"+\": \"adjacent\",\n};\nvar attribSelectors = {\n    \"#\": [\"id\", \"equals\"],\n    \".\": [\"class\", \"element\"],\n};\n// Pseudos, whose data property is parsed as well.\nvar unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"where\",\n    \"host\",\n    \"host-context\",\n]);\nvar traversalNames = new Set(__spreadArray([\n    \"descendant\"\n], Object.keys(Traversals).map(function (k) { return Traversals[k]; }), true));\n/**\n * Attributes that are case-insensitive in HTML.\n *\n * @private\n * @see https://html.spec.whatwg.org/multipage/semantics-other.html#case-sensitivity-of-selectors\n */\nvar caseInsensitiveAttributes = new Set([\n    \"accept\",\n    \"accept-charset\",\n    \"align\",\n    \"alink\",\n    \"axis\",\n    \"bgcolor\",\n    \"charset\",\n    \"checked\",\n    \"clear\",\n    \"codetype\",\n    \"color\",\n    \"compact\",\n    \"declare\",\n    \"defer\",\n    \"dir\",\n    \"direction\",\n    \"disabled\",\n    \"enctype\",\n    \"face\",\n    \"frame\",\n    \"hreflang\",\n    \"http-equiv\",\n    \"lang\",\n    \"language\",\n    \"link\",\n    \"media\",\n    \"method\",\n    \"multiple\",\n    \"nohref\",\n    \"noresize\",\n    \"noshade\",\n    \"nowrap\",\n    \"readonly\",\n    \"rel\",\n    \"rev\",\n    \"rules\",\n    \"scope\",\n    \"scrolling\",\n    \"selected\",\n    \"shape\",\n    \"target\",\n    \"text\",\n    \"type\",\n    \"valign\",\n    \"valuetype\",\n    \"vlink\",\n]);\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nfunction isTraversal(selector) {\n    return traversalNames.has(selector.type);\n}\nexports.isTraversal = isTraversal;\nvar stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\nvar quotes = new Set(['\"', \"'\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    var high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isWhitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nfunction parse(selector, options) {\n    var subselects = [];\n    var endIndex = parseSelector(subselects, \"\" + selector, options, 0);\n    if (endIndex < selector.length) {\n        throw new Error(\"Unmatched selector: \" + selector.slice(endIndex));\n    }\n    return subselects;\n}\nexports.default = parse;\nfunction parseSelector(subselects, selector, options, selectorIndex) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var tokens = [];\n    var sawWS = false;\n    function getName(offset) {\n        var match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(\"Expected name, found \" + selector.slice(selectorIndex));\n        }\n        var name = match[0];\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        while (isWhitespace(selector.charAt(selectorIndex + offset)))\n            offset++;\n        selectorIndex += offset;\n    }\n    function isEscaped(pos) {\n        var slashCount = 0;\n        while (selector.charAt(--pos) === \"\\\\\")\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    stripWhitespace(0);\n    while (selector !== \"\") {\n        var firstChar = selector.charAt(selectorIndex);\n        if (isWhitespace(firstChar)) {\n            sawWS = true;\n            stripWhitespace(1);\n        }\n        else if (firstChar in Traversals) {\n            ensureNotTraversal();\n            tokens.push({ type: Traversals[firstChar] });\n            sawWS = false;\n            stripWhitespace(1);\n        }\n        else if (firstChar === \",\") {\n            if (tokens.length === 0) {\n                throw new Error(\"Empty sub-selector\");\n            }\n            subselects.push(tokens);\n            tokens = [];\n            sawWS = false;\n            stripWhitespace(1);\n        }\n        else if (selector.startsWith(\"/*\", selectorIndex)) {\n            var endIndex = selector.indexOf(\"*/\", selectorIndex + 2);\n            if (endIndex < 0) {\n                throw new Error(\"Comment was not terminated\");\n            }\n            selectorIndex = endIndex + 2;\n        }\n        else {\n            if (sawWS) {\n                ensureNotTraversal();\n                tokens.push({ type: \"descendant\" });\n                sawWS = false;\n            }\n            if (firstChar in attribSelectors) {\n                var _c = attribSelectors[firstChar], name_1 = _c[0], action = _c[1];\n                tokens.push({\n                    type: \"attribute\",\n                    name: name_1,\n                    action: action,\n                    value: getName(1),\n                    namespace: null,\n                    // TODO: Add quirksMode option, which makes `ignoreCase` `true` for HTML.\n                    ignoreCase: options.xmlMode ? null : false,\n                });\n            }\n            else if (firstChar === \"[\") {\n                stripWhitespace(1);\n                // Determine attribute name and namespace\n                var namespace = null;\n                if (selector.charAt(selectorIndex) === \"|\") {\n                    namespace = \"\";\n                    selectorIndex += 1;\n                }\n                if (selector.startsWith(\"*|\", selectorIndex)) {\n                    namespace = \"*\";\n                    selectorIndex += 2;\n                }\n                var name_2 = getName(0);\n                if (namespace === null &&\n                    selector.charAt(selectorIndex) === \"|\" &&\n                    selector.charAt(selectorIndex + 1) !== \"=\") {\n                    namespace = name_2;\n                    name_2 = getName(1);\n                }\n                if ((_a = options.lowerCaseAttributeNames) !== null && _a !== void 0 ? _a : !options.xmlMode) {\n                    name_2 = name_2.toLowerCase();\n                }\n                stripWhitespace(0);\n                // Determine comparison operation\n                var action = \"exists\";\n                var possibleAction = actionTypes.get(selector.charAt(selectorIndex));\n                if (possibleAction) {\n                    action = possibleAction;\n                    if (selector.charAt(selectorIndex + 1) !== \"=\") {\n                        throw new Error(\"Expected `=`\");\n                    }\n                    stripWhitespace(2);\n                }\n                else if (selector.charAt(selectorIndex) === \"=\") {\n                    action = \"equals\";\n                    stripWhitespace(1);\n                }\n                // Determine value\n                var value = \"\";\n                var ignoreCase = null;\n                if (action !== \"exists\") {\n                    if (quotes.has(selector.charAt(selectorIndex))) {\n                        var quote = selector.charAt(selectorIndex);\n                        var sectionEnd = selectorIndex + 1;\n                        while (sectionEnd < selector.length &&\n                            (selector.charAt(sectionEnd) !== quote ||\n                                isEscaped(sectionEnd))) {\n                            sectionEnd += 1;\n                        }\n                        if (selector.charAt(sectionEnd) !== quote) {\n                            throw new Error(\"Attribute value didn't end\");\n                        }\n                        value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));\n                        selectorIndex = sectionEnd + 1;\n                    }\n                    else {\n                        var valueStart = selectorIndex;\n                        while (selectorIndex < selector.length &&\n                            ((!isWhitespace(selector.charAt(selectorIndex)) &&\n                                selector.charAt(selectorIndex) !== \"]\") ||\n                                isEscaped(selectorIndex))) {\n                            selectorIndex += 1;\n                        }\n                        value = unescapeCSS(selector.slice(valueStart, selectorIndex));\n                    }\n                    stripWhitespace(0);\n                    // See if we have a force ignore flag\n                    var forceIgnore = selector.charAt(selectorIndex);\n                    // If the forceIgnore flag is set (either `i` or `s`), use that value\n                    if (forceIgnore === \"s\" || forceIgnore === \"S\") {\n                        ignoreCase = false;\n                        stripWhitespace(1);\n                    }\n                    else if (forceIgnore === \"i\" || forceIgnore === \"I\") {\n                        ignoreCase = true;\n                        stripWhitespace(1);\n                    }\n                }\n                // If `xmlMode` is set, there are no rules; otherwise, use the `caseInsensitiveAttributes` list.\n                if (!options.xmlMode) {\n                    // TODO: Skip this for `exists`, as there is no value to compare to.\n                    ignoreCase !== null && ignoreCase !== void 0 ? ignoreCase : (ignoreCase = caseInsensitiveAttributes.has(name_2));\n                }\n                if (selector.charAt(selectorIndex) !== \"]\") {\n                    throw new Error(\"Attribute selector didn't terminate\");\n                }\n                selectorIndex += 1;\n                var attributeSelector = {\n                    type: \"attribute\",\n                    name: name_2,\n                    action: action,\n                    value: value,\n                    namespace: namespace,\n                    ignoreCase: ignoreCase,\n                };\n                tokens.push(attributeSelector);\n            }\n            else if (firstChar === \":\") {\n                if (selector.charAt(selectorIndex + 1) === \":\") {\n                    tokens.push({\n                        type: \"pseudo-element\",\n                        name: getName(2).toLowerCase(),\n                    });\n                    continue;\n                }\n                var name_3 = getName(1).toLowerCase();\n                var data = null;\n                if (selector.charAt(selectorIndex) === \"(\") {\n                    if (unpackPseudos.has(name_3)) {\n                        if (quotes.has(selector.charAt(selectorIndex + 1))) {\n                            throw new Error(\"Pseudo-selector \" + name_3 + \" cannot be quoted\");\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, options, selectorIndex + 1);\n                        if (selector.charAt(selectorIndex) !== \")\") {\n                            throw new Error(\"Missing closing parenthesis in :\" + name_3 + \" (\" + selector + \")\");\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        selectorIndex += 1;\n                        var start = selectorIndex;\n                        var counter = 1;\n                        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n                            if (selector.charAt(selectorIndex) === \"(\" &&\n                                !isEscaped(selectorIndex)) {\n                                counter++;\n                            }\n                            else if (selector.charAt(selectorIndex) === \")\" &&\n                                !isEscaped(selectorIndex)) {\n                                counter--;\n                            }\n                        }\n                        if (counter) {\n                            throw new Error(\"Parenthesis not matched\");\n                        }\n                        data = selector.slice(start, selectorIndex - 1);\n                        if (stripQuotesFromPseudos.has(name_3)) {\n                            var quot = data.charAt(0);\n                            if (quot === data.slice(-1) && quotes.has(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                            data = unescapeCSS(data);\n                        }\n                    }\n                }\n                tokens.push({ type: \"pseudo\", name: name_3, data: data });\n            }\n            else {\n                var namespace = null;\n                var name_4 = void 0;\n                if (firstChar === \"*\") {\n                    selectorIndex += 1;\n                    name_4 = \"*\";\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    if (selector.charAt(selectorIndex) === \"|\") {\n                        namespace = \"\";\n                        selectorIndex += 1;\n                    }\n                    name_4 = getName(0);\n                }\n                else {\n                    /*\n                     * We have finished parsing the selector.\n                     * Remove descendant tokens at the end if they exist,\n                     * and return the last index, so that parsing can be\n                     * picked up from here.\n                     */\n                    if (tokens.length &&\n                        tokens[tokens.length - 1].type === \"descendant\") {\n                        tokens.pop();\n                    }\n                    addToken(subselects, tokens);\n                    return selectorIndex;\n                }\n                if (selector.charAt(selectorIndex) === \"|\") {\n                    namespace = name_4;\n                    if (selector.charAt(selectorIndex + 1) === \"*\") {\n                        name_4 = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name_4 = getName(1);\n                    }\n                }\n                if (name_4 === \"*\") {\n                    tokens.push({ type: \"universal\", namespace: namespace });\n                }\n                else {\n                    if ((_b = options.lowerCaseTags) !== null && _b !== void 0 ? _b : !options.xmlMode) {\n                        name_4 = name_4.toLowerCase();\n                    }\n                    tokens.push({ type: \"tag\", name: name_4, namespace: namespace });\n                }\n            }\n        }\n    }\n    addToken(subselects, tokens);\n    return selectorIndex;\n}\nfunction addToken(subselects, tokens) {\n    if (subselects.length > 0 && tokens.length === 0) {\n        throw new Error(\"Empty sub-selector\");\n    }\n    subselects.push(tokens);\n}\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar actionTypes = {\n    equals: \"\",\n    element: \"~\",\n    start: \"^\",\n    end: \"$\",\n    any: \"*\",\n    not: \"!\",\n    hyphen: \"|\",\n};\nvar charsToEscape = new Set(__spreadArray(__spreadArray([], Object.keys(actionTypes)\n    .map(function (typeKey) { return actionTypes[typeKey]; })\n    .filter(Boolean), true), [\n    \":\",\n    \"[\",\n    \"]\",\n    \" \",\n    \"\\\\\",\n    \"(\",\n    \")\",\n    \"'\",\n], false));\n/**\n * Turns `selector` back into a string.\n *\n * @param selector Selector to stringify.\n */\nfunction stringify(selector) {\n    return selector.map(stringifySubselector).join(\", \");\n}\nexports.default = stringify;\nfunction stringifySubselector(token) {\n    return token.map(stringifyToken).join(\"\");\n}\nfunction stringifyToken(token) {\n    switch (token.type) {\n        // Simple types\n        case \"child\":\n            return \" > \";\n        case \"parent\":\n            return \" < \";\n        case \"sibling\":\n            return \" ~ \";\n        case \"adjacent\":\n            return \" + \";\n        case \"descendant\":\n            return \" \";\n        case \"universal\":\n            return getNamespace(token.namespace) + \"*\";\n        case \"tag\":\n            return getNamespacedName(token);\n        case \"pseudo-element\":\n            return \"::\" + escapeName(token.name);\n        case \"pseudo\":\n            if (token.data === null)\n                return \":\" + escapeName(token.name);\n            if (typeof token.data === \"string\") {\n                return \":\" + escapeName(token.name) + \"(\" + escapeName(token.data) + \")\";\n            }\n            return \":\" + escapeName(token.name) + \"(\" + stringify(token.data) + \")\";\n        case \"attribute\": {\n            if (token.name === \"id\" &&\n                token.action === \"equals\" &&\n                !token.ignoreCase &&\n                !token.namespace) {\n                return \"#\" + escapeName(token.value);\n            }\n            if (token.name === \"class\" &&\n                token.action === \"element\" &&\n                !token.ignoreCase &&\n                !token.namespace) {\n                return \".\" + escapeName(token.value);\n            }\n            var name_1 = getNamespacedName(token);\n            if (token.action === \"exists\") {\n                return \"[\" + name_1 + \"]\";\n            }\n            return \"[\" + name_1 + actionTypes[token.action] + \"='\" + escapeName(token.value) + \"'\" + (token.ignoreCase ? \"i\" : token.ignoreCase === false ? \"s\" : \"\") + \"]\";\n        }\n    }\n}\nfunction getNamespacedName(token) {\n    return \"\" + getNamespace(token.namespace) + escapeName(token.name);\n}\nfunction getNamespace(namespace) {\n    return namespace !== null\n        ? (namespace === \"*\" ? \"*\" : escapeName(namespace)) + \"|\"\n        : \"\";\n}\nfunction escapeName(str) {\n    return str\n        .split(\"\")\n        .map(function (c) { return (charsToEscape.has(c) ? \"\\\\\" + c : c); })\n        .join(\"\");\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import app from 'flarum/common/app';\n\nconst trans = (key) => (opts) => app.translator.trans(`ianm-follow-users.lib.follow_levels.${key}`, opts);\n\nexport const FollowLevels = Object.freeze([\n  {\n    value: 'unfollow',\n    name: trans('unfollow.name'),\n    description: trans('unfollow.description'),\n  },\n  {\n    value: 'follow',\n    name: trans('follow.name'),\n    description: trans('follow.description'),\n  },\n  {\n    value: 'lurk',\n    name: trans('lurk.name'),\n    description: trans('lurk.description'),\n  },\n]);\n","import app from 'flarum/common/app';\nimport * as follow_tags from '@fof-follow-tags';\n\n// We need to add options to the list of options available on the following page\n// As `follow_tags.utils.followingPageOptions` is a function, we cannot really\n// extend or override it with the Flarum helpers.\n// As the result of this function is cached after its first execution,\n// we can use the below version and execute this one to cache the desired options.\n\n// Save the reference to the original function, as it will be overriden\nconst original = follow_tags.utils.followingPageOptions;\n\n// Customized version of the helper with addition options for followed users\nexport default (section) => {\n  // Get the original options\n  const options = original(section);\n\n  options.users = app.translator.trans('ianm-follow-users.lib.following_link');\n\n  // Return the mutated options list\n  return options;\n};\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport Discussion from 'flarum/common/models/Discussion';\nimport User from 'flarum/common/models/User';\nimport Badge from 'flarum/common/components/Badge';\n\nexport default function addFollowBadge() {\n  extend(Discussion.prototype, 'badges', function (badges) {\n    if (this.user()?.followed?.()) {\n      badges.add(\n        'user-following',\n        <Badge\n          label={app.translator.trans(`ianm-follow-users.forum.badge.label.${this.user().followed()}`)}\n          icon=\"fas fa-user-friends\"\n          type=\"friend\"\n        />\n      );\n    }\n  });\n\n  extend(User.prototype, 'badges', function (badges) {\n    if (this.followed()) {\n      badges.add(\n        'user-following',\n        <Badge label={app.translator.trans(`ianm-follow-users.forum.badge.label.${this.followed()}`)} icon=\"fas fa-user-friends\" type=\"friend\" />\n      );\n    }\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport UserControls from 'flarum/forum/utils/UserControls';\nimport Button from 'flarum/common/components/Button';\nimport { SelectFollowUserTypeModal } from './components/SelectFollowLevelModal';\nimport User from 'flarum/common/models/User';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport { findFirstVdomChild } from './util/findVdomChild';\n\nexport default function addFollowControls() {\n  extend(UserControls, 'userControls', function (items, user) {\n    if (!app.session.user || app.session.user === user || !user.canBeFollowed() || app.forum.attribute('ianm-follow-users.button-on-profile')) {\n      return;\n    }\n\n    /**\n     * Opens the SelectFollowLevelModal with the provided user.\n     *\n     * @param {User} user\n     */\n    function openFollowLevelModal(user) {\n      if (!(user instanceof User)) return;\n\n      app.modal.show(SelectFollowUserTypeModal, { user });\n    }\n\n    items.add(\n      'follow',\n      <Button icon=\"fas fa-user-friends\" onclick={openFollowLevelModal.bind(this, user)}>\n        {app.translator.trans(`ianm-follow-users.forum.user_controls.${user.followed() ? 'unfollow_button' : 'follow_button'}`)}\n      </Button>\n    );\n  });\n\n  extend(UserCard.prototype, 'view', function (view) {\n    const user = this.attrs.user;\n    if (!app.forum.attribute('ianm-follow-users.button-on-profile') || !app.session.user || app.session.user === user || !user.canBeFollowed()) {\n      return;\n    }\n\n    /**\n     * Opens the SelectFollowLevelModal with the provided user.\n     *\n     * @param {User} user\n     */\n    function openFollowLevelModal(user) {\n      if (!(user instanceof User)) return;\n\n      app.modal.show(SelectFollowUserTypeModal, { user });\n    }\n\n    const followButton = (\n      <Button className=\"Button\" icon=\"fas fa-user-friends\" onclick={openFollowLevelModal.bind(this, user)}>\n        {user.followed()\n          ? app.translator.trans(`ianm-follow-users.forum.badge.label.${user.followed()}`)\n          : app.translator.trans('ianm-follow-users.forum.user_controls.follow_button')}\n      </Button>\n    );\n\n    findFirstVdomChild(view, '.UserCard-profile', (vdom) => {\n      vdom.children.splice(2, 0, followButton);\n    });\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport * as follow_tags from '@fof-follow-tags';\nimport * as user_directory from '@fof-user-directory';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\nimport followingPageOptions from '../common/helpers/followingPageOptions';\nimport Separator from 'flarum/common/components/Separator';\n\nexport default function () {\n  if (app.initializers.has('fof/follow-tags')) {\n    // Replace the original function with our customized version\n    follow_tags.utils.followingPageOptions = followingPageOptions;\n    // Execute the customized helper to cache the returned list of options\n    follow_tags.utils.followingPageOptions('forum.index.following');\n\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n      if (!follow_tags.utils.isFollowingPage() || !app.session.user) return;\n\n      if (!this.followTags) {\n        this.followTags = follow_tags.utils.getDefaultFollowingFiltering();\n      }\n\n      const followTags = this.followTags;\n\n      if (app.current.get('routeName') === 'following' && followTags === 'users') {\n        params.filter['following-users'] = true;\n\n        delete params.filter.subscription;\n      }\n    });\n  }\n\n  if (app.initializers.has('fof-user-directory')) {\n    extend(user_directory.UserDirectoryPage.prototype, 'groupItems', function (items) {\n      items.add(\n        'follow-users',\n        user_directory.CheckableButton.component(\n          {\n            className: 'GroupFilterButton',\n            icon: 'fas fa-user-friends',\n            checked: this.enabledSpecialGroupFilters['ianm-follow-users'] === 'is:followeduser',\n            onclick: () => {\n              const id = 'ianm-follow-users';\n              if (this.enabledSpecialGroupFilters[id] === 'is:followeduser') {\n                this.enabledSpecialGroupFilters[id] = '';\n              } else {\n                this.enabledSpecialGroupFilters[id] = 'is:followeduser';\n              }\n\n              this.changeParams(this.params().sort);\n            },\n          },\n          app.translator.trans('ianm-follow-users.forum.filter.following')\n        ),\n        65\n      );\n\n      items.add('separator', <Separator />, 50);\n    });\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport SettingsPage from 'flarum/forum/components/SettingsPage';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default function () {\n  extend(SettingsPage.prototype, 'privacyItems', function (items) {\n    items.add(\n      'follow-users-block',\n      <Switch\n        state={this.user.preferences().blocksFollow}\n        onchange={(value) => {\n          this.blocksFollowLoading = true;\n\n          this.user.savePreferences({ blocksFollow: value }).then(() => {\n            this.blocksFollowLoading = false;\n            m.redraw();\n          });\n        }}\n        loading={this.blocksFollowLoading}\n      >\n        {app.translator.trans('ianm-follow-users.forum.settings.block_follow')}\n      </Switch>\n    );\n  });\n}\n","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport UserPage from 'flarum/forum/components/UserPage';\n\nexport default function () {\n  extend(UserPage.prototype, 'navItems', function (items) {\n    if (app.session.user && app.session.user === this.user) {\n      const followedUsersCount = this.user.followingCount();\n\n      items.add(\n        'followed-users',\n        <LinkButton href={app.route('followedUsers')} icon=\"fas fa-user-friends\">\n          {app.translator.trans('ianm-follow-users.forum.profile_link')}\n          <span className=\"Button-badge\">{followedUsersCount}</span>\n        </LinkButton>\n      );\n    }\n  });\n}\n","import { extend } from 'flarum/common/extend';\nimport icon from 'flarum/common/helpers/icon';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport app from 'flarum/forum/app';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport type Mithril from 'mithril';\n\nexport default function addUserCardStats() {\n  extend(UserCard.prototype, 'infoItems', function (items: ItemList<Mithril.Children>) {\n    if (!this.attrs.user || !app.forum.attribute('ianm-follow-users.stats-on-profile')) return;\n\n    const user = this.attrs.user;\n    const followedUsersCount = user.followingCount();\n    const followersUsersCount = user.followerCount();\n\n    items.add(\n      'followers',\n      <div className=\"FollowUsers--stats\">\n        <span>\n          {icon('fas fa-user-friends')}\n          <span className=\"Button-badge\">{followedUsersCount}</span> {app.translator.trans('ianm-follow-users.forum.followed')}\n          <span className=\"Button-badge\">{followersUsersCount}</span> {app.translator.trans('ianm-follow-users.forum.followers')}\n        </span>\n      </div>,\n      40\n    );\n  });\n}\n","import Component from 'flarum/common/Component';\nimport UserCard from 'flarum/forum/components/UserCard';\n\nexport default class FollowedUserListItem extends Component {\n  view() {\n    const { user } = this.attrs;\n\n    return (\n      <div className=\"User\">\n        <UserCard user={user} className=\"UserCard--follow-list\" controlsButtonClassName=\"Button Button--icon Button--flat\" />\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Notification from 'flarum/common/components/Notification';\n\nexport default class NewDiscussionNotification extends Notification {\n  icon() {\n    return 'fas fa-user-friends';\n  }\n\n  href() {\n    const notification = this.attrs.notification;\n    const discussion = notification.subject();\n\n    return app.route.discussion(discussion);\n  }\n\n  content() {\n    return app.translator.trans('ianm-follow-users.forum.notifications.new_discussion_text', {\n      user: this.attrs.notification.fromUser(),\n      title: this.attrs.notification.subject().title(),\n    });\n  }\n\n  excerpt() {\n    return null;\n  }\n}\n","import app from 'flarum/forum/app';\nimport Notification from 'flarum/common/components/Notification';\n\nexport default class NewFollowerNotification extends Notification {\n  icon() {\n    return 'fas fa-user-plus';\n  }\n\n  href() {\n    const notification = this.attrs.notification;\n    const user = notification.subject();\n\n    return app.route.user(user);\n  }\n\n  content() {\n    return app.translator.trans('ianm-follow-users.forum.notifications.new_follower_text', {\n      user: this.attrs.notification.fromUser(),\n    });\n  }\n\n  excerpt() {\n    return null;\n  }\n}\n","import app from 'flarum/forum/app';\nimport Notification from 'flarum/common/components/Notification';\n\nexport default class NewPostNotification extends Notification {\n  icon() {\n    return 'fas fa-user-friends';\n  }\n\n  href() {\n    const notification = this.attrs.notification;\n    const discussion = notification.subject();\n    const content = notification.content() || {};\n\n    return app.route.discussion(discussion, content.postNumber);\n  }\n\n  content() {\n    return app.translator.trans('ianm-follow-users.forum.notifications.new_post_text', {\n      user: this.attrs.notification.fromUser(),\n    });\n  }\n\n  excerpt() {\n    return null;\n  }\n}\n","import app from 'flarum/forum/app';\nimport Notification from 'flarum/common/components/Notification';\n\nexport default class NewUnfollowerNotification extends Notification {\n  icon() {\n    return 'fas fa-user-minus';\n  }\n\n  href() {\n    const notification = this.attrs.notification;\n    const user = notification.subject();\n\n    return app.route.user(user);\n  }\n\n  content() {\n    return app.translator.trans('ianm-follow-users.forum.notifications.new_unfollower_text', {\n      user: this.attrs.notification.fromUser(),\n    });\n  }\n\n  excerpt() {\n    return null;\n  }\n}\n","import app from 'flarum/forum/app';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport { SelectFollowUserTypeModal } from './SelectFollowLevelModal';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport FollowedUserListItem from './FollowedUserListItem';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nexport default class ProfilePage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.refresh();\n  }\n\n  refresh() {\n    this.loading = true;\n    this.followedUsers = app.session.user.followedUsers();\n    this.loadUser(app.session.user.username());\n\n    this.loading = false;\n    m.redraw();\n  }\n\n  changeUserFollowOptions(user) {\n    app.modal.show(SelectFollowUserTypeModal, { user });\n  }\n\n  content() {\n    if (this.loading) {\n      return (\n        <div className=\"DiscussionList\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    if (this.followedUsers.length === 0) {\n      return (\n        <div className=\"DiscussionList\">\n          <Placeholder text={app.translator.trans('ianm-follow-users.forum.profile_page.no_following')} />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"FollowedUserList\">\n        <ul className=\"FollowedUserList-users\">\n          {this.followedUsers.map((user) => {\n            return (\n              <li key={user.id()} data-id={user.id()}>\n                <FollowedUserListItem user={user} />\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n\n  show() {\n    this.user = app.session.user;\n\n    m.redraw();\n  }\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport User from 'flarum/common/models/User';\nimport Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport { FollowLevels } from '../../common/FollowLevels';\n\nexport class SelectFollowUserTypeModal extends Modal {\n  state = {\n    /**\n     * User being followed\n     *\n     * @type User | null\n     */\n    user: null,\n\n    /**\n     * Is the modal currently saving?\n     *\n     * @type boolean\n     */\n    saving: false,\n\n    /**\n     * Currently selected follow level.\n     *\n     * @type \"lurk\" | \"follow\" | \"unfollow\"\n     * @example \"lurk\"\n     */\n    followState: undefined,\n  };\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.state.user = this.attrs.user;\n\n    this.state.followState = this.state.user.followed() || 'unfollow';\n  }\n\n  className = () => 'iam_follow_users-selectFollowLevelModal';\n\n  title() {\n    return this.trans('title', { username: <em>{this.state.user?.username?.()}</em> });\n  }\n\n  content() {\n    // If `this.user` isn't a valid User, exit quickly to prevent complete forum errors.\n    if (!(this.state.user instanceof User)) {\n      // Show a more detailed error if this happens when the forum is in debug mode.\n      return (\n        <div class=\"Modal-body\">\n          <p>{this.trans(`no_user_attr_provided_err${app.forum.attribute('debug') ? '_debug' : ''}`)}</p>\n        </div>\n      );\n    }\n\n    const user = this.state.user;\n\n    const availableLevelOptions = FollowLevels.reduce((acc, curr) => ({ ...acc, [curr.value]: curr.name() }), {});\n    const selectedLevel = FollowLevels.find((l) => l.value === this.state.followState);\n\n    return (\n      <div class=\"Modal-body\">\n        <fieldset>\n          <legend>{this.trans('description', { user })}</legend>\n\n          <div class=\"selectFollowLevelModal-level\">\n            <label for=\"selectFollowLevelModal-select\">{this.trans('follow_select_label')}</label>\n\n            <Select\n              disabled={this.state.saving}\n              id=\"selectFollowLevelModal-select\"\n              onchange={this.onFollowLevelChange.bind(this)}\n              // Dynamic attrs that change based on the input\n              value={selectedLevel.value}\n              aria-described-by={`selectFollowLevelModal-${selectedLevel.value}-help`}\n              options={availableLevelOptions}\n            />\n\n            {/* Helper text to describe the selected follow level */}\n            <p id={`selectFollowLevelModal-${selectedLevel.value}-help`}>{selectedLevel.description({ user })}</p>\n          </div>\n        </fieldset>\n        <fieldset class=\"selectFollowLevelModal-actions\">\n          <Button disabled={this.state.saving} class=\"Button\" onclick={this.hide.bind(this)}>\n            {this.trans('cancel_btn')}\n          </Button>\n          <Button disabled={this.state.saving} class=\"Button Button--primary\" onclick={this.saveFollowLevel.bind(this)} loading={this.state.saving}>\n            {this.trans('save_btn')}\n          </Button>\n        </fieldset>\n      </div>\n    );\n  }\n\n  /**\n   * Handles a change on the <select> element and saves the new value to a class property.\n   */\n  onFollowLevelChange() {\n    /**\n     * @type HTMLInputElement\n     */\n    const selectElement = this.$('.Select-input')[0];\n\n    this.state.followState = selectElement.value || 'unfollow';\n  }\n\n  /**\n   * Helper for app.translator.trans, already including the initial keys up to `modals.select_follow_level`.\n   */\n  trans(key, ...opts) {\n    return app.translator.trans(`ianm-follow-users.forum.modals.select_follow_level.${key}`, ...opts);\n  }\n\n  onsubmit() {\n    this.saveFollowLevel();\n  }\n\n  /**\n   * Sends the new follow state to the\n   */\n  async saveFollowLevel() {\n    const newFollowState = this.state.followState === 'unfollow' ? null : this.state.followState;\n\n    this.state.saving = true;\n\n    // Exit early if level not changed\n    if (this.state.user.attribute('following') === newFollowState) {\n      this.hide();\n      return;\n    }\n\n    const x = await this.state.user.save({ followUsers: newFollowState });\n\n    this.hide();\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport NotificationGrid from 'flarum/forum/components/NotificationGrid';\n\nimport Model from 'flarum/common/Model';\nimport User from 'flarum/common/models/User';\nimport addFollowControls from './addFollowControls';\nimport addProfilePage from './addProfilePage';\nimport ProfilePage from './components/ProfilePage';\nimport NewDiscussionNotification from './components/NewDiscussionNotification';\nimport NewPostNotification from './components/NewPostNotification';\nimport NewFollowerNotification from './components/NewFollowerNotification';\nimport NewUnfollowerNotification from './components/NewUnfollowerNotification';\nimport addFollowBadge from './addFollowBadge';\nimport addPrivacySetting from './addPrivacySetting';\nimport addFollowingUsers from './addFollowingUsers';\nimport addUserCardStats from './addUserCardStats';\n\napp.initializers.add(\n  'ianm-follow-users',\n  () => {\n    User.prototype.followed = Model.attribute('followed');\n    User.prototype.followedUsers = Model.hasMany('followedUsers');\n    User.prototype.followedBy = Model.hasMany('followedBy');\n    User.prototype.blocksFollow = Model.attribute('blocksFollow');\n    User.prototype.canBeFollowed = Model.attribute('canBeFollowed');\n    User.prototype.followingCount = Model.attribute('followingCount');\n    User.prototype.followerCount = Model.attribute('followerCount');\n\n    app.routes.followedUsers = { path: '/followedUsers', component: ProfilePage };\n\n    addFollowControls();\n    addProfilePage();\n    addFollowBadge();\n    addPrivacySetting();\n    addFollowingUsers();\n    addUserCardStats();\n\n    app.notificationComponents.newFollower = NewFollowerNotification;\n    app.notificationComponents.newUnfollower = NewUnfollowerNotification;\n    app.notificationComponents.newDiscussionByUser = NewDiscussionNotification;\n    app.notificationComponents.newPostByUser = NewPostNotification;\n\n    extend(NotificationGrid.prototype, 'notificationTypes', function (items) {\n      items.add('newFollower', {\n        name: 'newFollower',\n        icon: 'fas fa-user-plus',\n        label: app.translator.trans('ianm-follow-users.forum.settings.notify_new_follower_label'),\n      });\n      items.add('newUnfollower', {\n        name: 'newUnfollower',\n        icon: 'fas fa-user-minus',\n        label: app.translator.trans('ianm-follow-users.forum.settings.notify_new_unfollower_label'),\n      });\n      items.add('newDiscussionByUser', {\n        name: 'newDiscussionByUser',\n        icon: 'fas fa-user-friends',\n        label: app.translator.trans('ianm-follow-users.forum.settings.notify_new_discussion_label'),\n      });\n      items.add('newPostByUser', {\n        name: 'newPostByUser',\n        icon: 'fas fa-user-friends',\n        label: app.translator.trans('ianm-follow-users.forum.settings.notify_new_post_label'),\n      });\n    });\n  },\n  -1\n);\n","import { parse as cssWhat, Selector } from 'css-what';\nimport type Mithril from 'mithril';\n\ntype VdomChildren = Mithril.Vnode<Record<string, unknown>> | Mithril.Vnode<Record<string, unknown>>[];\n\ntype ManipulationFunction = (vnode: Mithril.Vnode<Record<string, unknown>>) => void;\n\nexport function findAndRemoveFirstVdomChild(vdom: VdomChildren, selector: string): boolean {\n  const node = findFirstVdomChild(vdom, selector);\n\n  if (node === undefined) return false;\n\n  // Set to empty fragment\n  node.tag = '[';\n  node.attrs = { removedViaVdomUtils: true };\n  node.children = [];\n\n  return true;\n}\n\nexport function findFirstVdomChild(\n  vdom: VdomChildren,\n  selector: string,\n  manipulationFunc?: ManipulationFunction\n): Mithril.Vnode<Record<string, unknown>> | undefined {\n  const parsedSelector = cssWhat(selector);\n\n  return searchChildren(vdom, parsedSelector, manipulationFunc);\n}\n\nfunction searchChildren(\n  vdom: (Mithril.Child | Mithril.Children)[] | (Mithril.Child | Mithril.Children),\n  selectors: Selector[][],\n  manipulationFunc?: ManipulationFunction\n): Mithril.Vnode<Record<string, unknown>> | undefined {\n  let nodes: (Mithril.Child | Mithril.Children)[];\n\n  if (!Array.isArray(vdom)) {\n    nodes = [vdom];\n  } else {\n    nodes = vdom;\n  }\n\n  let found: Mithril.Vnode<Record<string, unknown>, {}> | undefined = undefined;\n\n  nodes.some((node): boolean => {\n    if (typeof node === 'boolean' || typeof node === 'number' || typeof node === 'string' || node === null || node === undefined) return false;\n\n    if (Array.isArray(node)) {\n      let result = searchChildren(node, selectors, manipulationFunc);\n\n      if (result) {\n        found = result;\n        return true;\n      }\n\n      return false;\n    }\n\n    if (doesChildMatchSelectors(node, selectors)) {\n      found = node;\n      return true;\n    }\n\n    if (Array.isArray(node.children)) {\n      let result = searchChildren(node.children, selectors);\n\n      if (result) {\n        found = result;\n        return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  });\n\n  if (manipulationFunc && found) manipulationFunc(found);\n\n  return found;\n}\n\nfunction doesChildMatchSelectors(child: Mithril.Vnode<Record<string, any>>, selectors: Selector[][]): boolean {\n  return selectors.some((selector) => {\n    return selector.every((criterion): boolean => {\n      switch (criterion.type) {\n        case 'tag':\n          return child.tag === criterion.name;\n\n        case 'attribute':\n          if (!child.attrs) return false;\n\n          if (criterion.name === 'class') criterion.name = 'className';\n\n          let attr = child.attrs[criterion.name];\n\n          if (criterion.name === 'className' && typeof attr === 'string') {\n            attr = attr.trim();\n          }\n\n          if (criterion.ignoreCase && typeof attr === 'string') {\n            attr = attr.toLowerCase();\n            criterion.value = criterion.value.toLowerCase();\n          }\n\n          switch (criterion.action) {\n            case 'exists':\n              return child.attrs.hasOwnProperty(criterion.name);\n            case 'equals':\n              return attr === criterion.value;\n            case 'start':\n              return attr?.startsWith?.(criterion.value) || false;\n            case 'end':\n              return attr?.endsWith?.(criterion.value) || false;\n            case 'element':\n              return (attr as string)?.split?.(' ')?.includes?.(criterion.value) || false;\n          }\n      }\n\n      return false;\n    });\n  });\n}\n","module.exports = flarum.extensions['fof-follow-tags'];","module.exports = flarum.extensions['fof-user-directory'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/components/Badge'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Notification'];","module.exports = flarum.core.compat['common/components/Placeholder'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/components/Separator'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/models/Discussion'];","module.exports = flarum.core.compat['common/models/User'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/NotificationGrid'];","module.exports = flarum.core.compat['forum/components/SettingsPage'];","module.exports = flarum.core.compat['forum/components/UserCard'];","module.exports = flarum.core.compat['forum/components/UserPage'];","module.exports = flarum.core.compat['forum/states/DiscussionListState'];","module.exports = flarum.core.compat['forum/utils/UserControls'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["module","exports","require","__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__exportStar","p","prototype","hasOwnProperty","call","__importDefault","mod","__esModule","value","stringify","parse","parse_1","stringify_1","__spreadArray","to","from","pack","arguments","length","i","l","ar","Array","slice","concat","isTraversal","reName","reEscape","actionTypes","Map","Traversals","attribSelectors","unpackPseudos","Set","traversalNames","keys","map","caseInsensitiveAttributes","selector","has","type","stripQuotesFromPseudos","quotes","funescape","_","escaped","escapedWhitespace","high","parseInt","String","fromCharCode","unescapeCSS","str","replace","isWhitespace","c","options","subselects","endIndex","parseSelector","Error","selectorIndex","_a","_b","tokens","sawWS","getName","offset","match","name","stripWhitespace","charAt","isEscaped","pos","slashCount","ensureNotTraversal","firstChar","push","startsWith","indexOf","_c","name_1","action","namespace","ignoreCase","xmlMode","name_2","lowerCaseAttributeNames","toLowerCase","possibleAction","quote","sectionEnd","valueStart","forceIgnore","attributeSelector","name_3","data","start","counter","quot","name_4","test","pop","addToken","lowerCaseTags","equals","element","end","any","not","hyphen","charsToEscape","typeKey","filter","Boolean","stringifySubselector","join","token","stringifyToken","getNamespace","getNamespacedName","escapeName","split","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","object","reverse","iterable","iteratorMethod","isNaN","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","app","trans","opts","translator","FollowLevels","freeze","description","follow_tags","original","utils","followingPageOptions","section","users","extend","Discussion","User","Badge","addFollowBadge","badges","user","followed","add","UserControls","Button","SelectFollowUserTypeModal","UserCard","findFirstVdomChild","addFollowControls","items","session","canBeFollowed","forum","attribute","openFollowLevelModal","modal","show","bind","view","attrs","followButton","vdom","children","splice","user_directory","DiscussionListState","Separator","initializers","params","isFollowingPage","followTags","getDefaultFollowingFiltering","current","subscription","UserDirectoryPage","CheckableButton","component","className","icon","checked","enabledSpecialGroupFilters","onclick","id","changeParams","sort","SettingsPage","Switch","preferences","blocksFollow","blocksFollowLoading","savePreferences","redraw","LinkButton","UserPage","followedUsersCount","followingCount","route","addUserCardStats","followersUsersCount","followerCount","Component","FollowedUserListItem","Notification","NewDiscussionNotification","href","notification","discussion","subject","content","fromUser","title","excerpt","NewFollowerNotification","NewPostNotification","postNumber","NewUnfollowerNotification","Placeholder","LoadingIndicator","ProfilePage","oninit","vnode","refresh","loading","followedUsers","loadUser","username","changeUserFollowOptions","Modal","Select","saving","followState","availableLevelOptions","reduce","acc","curr","selectedLevel","find","onFollowLevelChange","hide","saveFollowLevel","selectElement","$","onsubmit","newFollowState","save","followUsers","x","NotificationGrid","Model","addProfilePage","addPrivacySetting","addFollowingUsers","hasMany","followedBy","routes","path","notificationComponents","newFollower","newUnfollower","newDiscussionByUser","newPostByUser","label","cssWhat","findAndRemoveFirstVdomChild","node","tag","removedViaVdomUtils","manipulationFunc","parsedSelector","searchChildren","selectors","nodes","isArray","found","some","doesChildMatchSelectors","child","every","criterion","attr","trim","endsWith","includes","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","apply","_extends","assign","target","source","_inheritsLoose","subClass","superClass","_setPrototypeOf"],"sourceRoot":""}